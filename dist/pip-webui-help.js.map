{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/dependencies/translate.ts","src/help_common/HelpConfig.ts","src/help_common/HelpPageSelectedTab.ts","src/help_common/HelpStateConfig.ts","src/help_common/HelpTab.ts","src/help_page/HelpPageController.ts","src/help_page/HelpPageRoutes.ts","src/help_provider/HelpProvider.ts","src/help_service/HelpService.ts","src/pipHelp.ts","temp/pip-webui-help-html.js"],"names":[],"mappings":"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","file":"pip-webui-help.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n\n(() => {\n    'use strict';\n    function  filter ($injector: ng.auto.IInjectorService) {\n         let pipTranslate: any = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return (key) => {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    }\n\n    angular.module('pipHelp.Translate', [])\n           .filter('translate', filter);\n\n})();\n","import {HelpTab} from \"./HelpTab\";\n\nexport class HelpConfig {\n\n    public defaultTab: string;\n    public tabs: HelpTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: string = null;\n    public isNavIcon: boolean = true;\n\n}\n","import {HelpTab} from \"./HelpTab\";\n\nexport class HelpPageSelectedTab {\n    public tab: HelpTab;\n    public tabIndex: number;\n    public tabId: string;\n}","export class HelpStateConfig {\n    public url: string;\n    public auth: boolean = false;\n    public templateUrl?: string;\n    public template?: string;\n}","import {HelpStateConfig} from './HelpStateConfig';\n\nexport class HelpTab {\n    public state: string;\n    public title: string;\n    public index: number;\n    public access: Function;\n    public visible: boolean;\n    public stateConfig: HelpStateConfig;\n}","// Prevent junk from going into typescript definitions\nimport {IHelpService} from '../help_service/HelpService';\nimport {HelpTab} from '../help_common/HelpTab';\nimport {HelpPageSelectedTab} from '../help_common/HelpPageSelectedTab';\n\ninterface IHelpPage {\n    tabs: HelpTab[];\n    selected: HelpPageSelectedTab;\n    onDropdownSelect: Function;\n    onNavigationSelect(state: string): void;\n}\n\nclass HelpPageController implements IHelpPage {\n    public tabs: HelpTab[];\n    public selected: HelpPageSelectedTab;\n    public onDropdownSelect: Function;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $state: ng.ui.IStateService,\n        $rootScope: ng.IRootScopeService, \n        $timeout: angular.ITimeoutService,\n        pipNavService: pip.nav.INavService,\n        pipHelp: IHelpService\n    ) {\n\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: HelpTab) =>{\n            if (tab.visible === true) {\n                    return tab;\n            }\n        });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = new HelpPageSelectedTab();\n        if (this.$state.current.name !== 'help') {\n            this.initSelect(this.$state.current.name);\n        } else if (this.$state.current.name === 'help' && pipHelp.getDefaultTab()) {\n            this.initSelect(pipHelp.getDefaultTab().state);\n        } else {\n            $timeout(() => {\n                if (pipHelp.getDefaultTab()) {\n                    this.initSelect(pipHelp.getDefaultTab().state);\n                }\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\n                    this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Help\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string): void {\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\n            return tab.state === state;\n        });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n    }\n\n    public onNavigationSelect(state: string): void {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this.$state.go(state);\n        }\n    }\n}\n\n(() => {\n\nangular.module('pipHelp.Page', [\n    'ui.router', \n    'pipHelp.Service',\n    'pipNav', \n    'pipSelected',\n    'pipTranslate',\n    'pipHelp.Templates'\n    ])\n    .controller('pipHelpPageController', HelpPageController);\n})();\n\nimport './HelpPageRoutes';","'use strict';\n(() => {\nfunction configureHelpPageRoutes($stateProvider) {\n    $stateProvider\n        .state('help', {\n            url: '/help?party_id',\n            auth: true,\n            controllerAs: '$ctrl',\n            controller: 'pipHelpPageController',\n            templateUrl: 'help_page/HelpPage.html'\n        });      \n}\n\nangular.module('pipHelp.Page')\n    .config(configureHelpPageRoutes);\n})();","import {HelpTab} from \"../help_common/HelpTab\";\nimport {HelpConfig} from \"../help_common/HelpConfig\";\nimport {HelpService} from \"../help_service/HelpService\";\n\nexport interface IHelpProvider extends ng.IServiceProvider {\n    getDefaultTab(): HelpTab;\n    addTab(tabObj: HelpTab): void;\n    setDefaultTab(name: string): void;\n    getFullStateName(state: string): string;\n}\n\nclass HelpProvider implements IHelpProvider {\n    private _service: HelpService;\n    private _config: HelpConfig = new HelpConfig();\n\n    constructor( private $stateProvider: ng.ui.IStateProvider) {}\n\n    public getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n\n        defaultTab = _.find(this._config.tabs, (p) => {\n            return p.state === this._config.defaultTab;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: HelpTab): void {\n        let existingTab: HelpTab;\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, (p) => {\n            return p.state === 'help.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //this.$stateProvider.go(this._config.defaultTab);\n            //pipAuthStateProvider.redirect('help', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n\n    private validateTab(tabObj: HelpTab) {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (!_.isNull(value) && !_.isUndefined(value)) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get() {\n        \"ngInject\";\n\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new HelpService(this._config);\n        }\n        \n        return this._service;\n    }\n}\n\n\nangular\n    .module('pipHelp.Service', [])\n    .provider('pipHelp', HelpProvider);","'use strict';\n\nimport {HelpTab} from \"../help_common/HelpTab\";\nimport {HelpConfig} from \"../help_common/HelpConfig\";\n\nexport interface IHelpService {\n    getDefaultTab(): HelpTab;\n    showTitleText (newTitleText: string): string;\n    showTitleLogo(newTitleLogo: string);\n    setDefaultTab(name: string): void;\n    showNavIcon(value: boolean): boolean;\n    getTabs(): HelpTab[];\n}\n\nexport class HelpService implements IHelpService {\n\n    public constructor( private _config: HelpConfig) {\n        \"ngInject\";\n    }\n\n    private getFullStateName(state: string): string {\n        return 'help.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, (tab) => {\n            return tab.state === 'help.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab(): HelpTab {\n        let defaultTab: HelpTab;\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\n            return p.state === this._config.defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo: string): string {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean): boolean {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public getTabs(): HelpTab[] {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\n\n\n","﻿/**\n * @file Registration of all help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\nimport './help_provider/HelpProvider';\nimport './help_page/HelpPageController';\n\nangular.module('pipHelp', [\n    'pipHelp.Service',\n    'pipHelp.Page'\n]);\n\nexport * from './help_service/HelpService';\nexport * from './help_page/HelpPageController';","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '<pip-document width=\"800\" min-height=\"400\"\\n' +\n    '              class=\"pip-help\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-menu-container\"\\n' +\n    '         ng-hide=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list\"\\n' +\n    '                 pip-selected=\"$ctrl.selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"$ctrl.selected.navId\"\\n' +\n    '                 pip-select=\"$ctrl.onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable flex\"\\n' +\n    '                          ng-repeat=\"tab in $ctrl.tabs track by tab.state\" \\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{:: tab.state }}\">\\n' +\n    '                <p>{{::tab.title | translate}}</p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\">\\n' +\n    '            <pip-dropdown pip-actions=\"$ctrl.tabs\"\\n' +\n    '                          pip-dropdown-select=\"$ctrl.onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"$ctrl.selected.tabIndex\"></pip-dropdown>\\n' +\n    '\\n' +\n    '            <div class=\"pip-body p0 layout-column\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-show=\"$ctrl.manager === false || !$ctrl.tabs || $ctrl.tabs.length < 1\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZGVwZW5kZW5jaWVzL3RyYW5zbGF0ZS50cyIsInNyYy9oZWxwX2NvbW1vbi9IZWxwQ29uZmlnLnRzIiwic3JjL2hlbHBfY29tbW9uL0hlbHBQYWdlU2VsZWN0ZWRUYWIudHMiLCJzcmMvaGVscF9jb21tb24vSGVscFN0YXRlQ29uZmlnLnRzIiwic3JjL2hlbHBfY29tbW9uL0hlbHBUYWIudHMiLCJzcmMvaGVscF9wYWdlL0hlbHBQYWdlQ29udHJvbGxlci50cyIsInNyYy9oZWxwX3BhZ2UvSGVscFBhZ2VSb3V0ZXMudHMiLCJzcmMvaGVscF9wcm92aWRlci9IZWxwUHJvdmlkZXIudHMiLCJzcmMvaGVscF9zZXJ2aWNlL0hlbHBTZXJ2aWNlLnRzIiwic3JjL3BpcEhlbHAudHMiLCJ0ZW1wL3BpcC13ZWJ1aS1oZWxwLWh0bWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNFQSxDQUFDO0lBQ0csWUFBWSxDQUFDO0lBQ2IsZ0JBQWtCLFNBQW1DO1FBQ2hELElBQUksWUFBWSxHQUFRLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO2NBQ2hELFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBRTNDLE1BQU0sQ0FBQyxVQUFDLEdBQUc7WUFDUCxNQUFNLENBQUMsWUFBWSxHQUFJLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNwRSxDQUFDLENBQUE7SUFDTCxDQUFDO0lBRUQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLENBQUM7U0FDL0IsTUFBTSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUV4QyxDQUFDLENBQUMsRUFBRSxDQUFDOzs7OztBQ2RMO0lBQUE7UUFHVyxTQUFJLEdBQWMsRUFBRSxDQUFDO1FBQ3JCLGNBQVMsR0FB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QUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQTFEQSxBQTBEQyxJQUFBO0FBMURZLGtDQUFXOzs7Ozs7OztBQ1R4Qix3Q0FBc0M7QUFDdEMsMENBQXdDO0FBRXhDLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO0lBQ3RCLGlCQUFpQjtJQUNqQixjQUFjO0NBQ2pCLENBQUMsQ0FBQztBQUVILGdEQUEyQzs7O0FDYjNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG5cbigoKSA9PiB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGZ1bmN0aW9uICBmaWx0ZXIgKCRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlKSB7XG4gICAgICAgICBsZXQgcGlwVHJhbnNsYXRlOiBhbnkgPSAkaW5qZWN0b3IuaGFzKCdwaXBUcmFuc2xhdGUnKSBcbiAgICAgICAgICAgID8gJGluamVjdG9yLmdldCgncGlwVHJhbnNsYXRlJykgOiBudWxsO1xuXG4gICAgICAgIHJldHVybiAoa2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGlwVHJhbnNsYXRlICA/IHBpcFRyYW5zbGF0ZS50cmFuc2xhdGUoa2V5KSB8fCBrZXkgOiBrZXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5UcmFuc2xhdGUnLCBbXSlcbiAgICAgICAgICAgLmZpbHRlcigndHJhbnNsYXRlJywgZmlsdGVyKTtcblxufSkoKTtcbiIsImltcG9ydCB7SGVscFRhYn0gZnJvbSBcIi4vSGVscFRhYlwiO1xuXG5leHBvcnQgY2xhc3MgSGVscENvbmZpZyB7XG5cbiAgICBwdWJsaWMgZGVmYXVsdFRhYjogc3RyaW5nO1xuICAgIHB1YmxpYyB0YWJzOiBIZWxwVGFiW10gPSBbXTtcbiAgICBwdWJsaWMgdGl0bGVUZXh0OiBzdHJpbmcgPSAnU0VUVElOR1NfVElUTEUnO1xuICAgIHB1YmxpYyB0aXRsZUxvZ286IHN0cmluZyA9IG51bGw7XG4gICAgcHVibGljIGlzTmF2SWNvbjogYm9vbGVhbiA9IHRydWU7XG5cbn1cbiIsImltcG9ydCB7SGVscFRhYn0gZnJvbSBcIi4vSGVscFRhYlwiO1xuXG5leHBvcnQgY2xhc3MgSGVscFBhZ2VTZWxlY3RlZFRhYiB7XG4gICAgcHVibGljIHRhYjogSGVscFRhYjtcbiAgICBwdWJsaWMgdGFiSW5kZXg6IG51bWJlcjtcbiAgICBwdWJsaWMgdGFiSWQ6IHN0cmluZztcbn0iLCJleHBvcnQgY2xhc3MgSGVscFN0YXRlQ29uZmlnIHtcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XG4gICAgcHVibGljIGF1dGg6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgdGVtcGxhdGVVcmw/OiBzdHJpbmc7XG4gICAgcHVibGljIHRlbXBsYXRlPzogc3RyaW5nO1xufSIsImltcG9ydCB7SGVscFN0YXRlQ29uZmlnfSBmcm9tICcuL0hlbHBTdGF0ZUNvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBIZWxwVGFiIHtcbiAgICBwdWJsaWMgc3RhdGU6IHN0cmluZztcbiAgICBwdWJsaWMgdGl0bGU6IHN0cmluZztcbiAgICBwdWJsaWMgaW5kZXg6IG51bWJlcjtcbiAgICBwdWJsaWMgYWNjZXNzOiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgdmlzaWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgc3RhdGVDb25maWc6IEhlbHBTdGF0ZUNvbmZpZztcbn0iLCIvLyBQcmV2ZW50IGp1bmsgZnJvbSBnb2luZyBpbnRvIHR5cGVzY3JpcHQgZGVmaW5pdGlvbnNcbmltcG9ydCB7SUhlbHBTZXJ2aWNlfSBmcm9tICcuLi9oZWxwX3NlcnZpY2UvSGVscFNlcnZpY2UnO1xuaW1wb3J0IHtIZWxwVGFifSBmcm9tICcuLi9oZWxwX2NvbW1vbi9IZWxwVGFiJztcbmltcG9ydCB7SGVscFBhZ2VTZWxlY3RlZFRhYn0gZnJvbSAnLi4vaGVscF9jb21tb24vSGVscFBhZ2VTZWxlY3RlZFRhYic7XG5cbmludGVyZmFjZSBJSGVscFBhZ2Uge1xuICAgIHRhYnM6IEhlbHBUYWJbXTtcbiAgICBzZWxlY3RlZDogSGVscFBhZ2VTZWxlY3RlZFRhYjtcbiAgICBvbkRyb3Bkb3duU2VsZWN0OiBGdW5jdGlvbjtcbiAgICBvbk5hdmlnYXRpb25TZWxlY3Qoc3RhdGU6IHN0cmluZyk6IHZvaWQ7XG59XG5cbmNsYXNzIEhlbHBQYWdlQ29udHJvbGxlciBpbXBsZW1lbnRzIElIZWxwUGFnZSB7XG4gICAgcHVibGljIHRhYnM6IEhlbHBUYWJbXTtcbiAgICBwdWJsaWMgc2VsZWN0ZWQ6IEhlbHBQYWdlU2VsZWN0ZWRUYWI7XG4gICAgcHVibGljIG9uRHJvcGRvd25TZWxlY3Q6IEZ1bmN0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgJHN0YXRlOiBuZy51aS5JU3RhdGVTZXJ2aWNlLFxuICAgICAgICAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgXG4gICAgICAgICR0aW1lb3V0OiBhbmd1bGFyLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgcGlwTmF2U2VydmljZTogcGlwLm5hdi5JTmF2U2VydmljZSxcbiAgICAgICAgcGlwSGVscDogSUhlbHBTZXJ2aWNlXG4gICAgKSB7XG5cbiAgICAgICAgdGhpcy50YWJzID0gXy5maWx0ZXIocGlwSGVscC5nZXRUYWJzKCksICh0YWI6IEhlbHBUYWIpID0+e1xuICAgICAgICAgICAgaWYgKHRhYi52aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGFicyA9IF8uc29ydEJ5KHRoaXMudGFicywgJ2luZGV4Jyk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG5ldyBIZWxwUGFnZVNlbGVjdGVkVGFiKCk7XG4gICAgICAgIGlmICh0aGlzLiRzdGF0ZS5jdXJyZW50Lm5hbWUgIT09ICdoZWxwJykge1xuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0KHRoaXMuJHN0YXRlLmN1cnJlbnQubmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4kc3RhdGUuY3VycmVudC5uYW1lID09PSAnaGVscCcgJiYgcGlwSGVscC5nZXREZWZhdWx0VGFiKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdChwaXBIZWxwLmdldERlZmF1bHRUYWIoKS5zdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBpcEhlbHAuZ2V0RGVmYXVsdFRhYigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdChwaXBIZWxwLmdldERlZmF1bHRUYWIoKS5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcGlwSGVscC5nZXREZWZhdWx0VGFiKCkgJiYgdGhpcy50YWJzICYmIHRoaXMudGFicy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdCh0aGlzLnRhYnNbMF0uc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcGlwTmF2U2VydmljZS5pY29uLnNob3dNZW51KCk7XG4gICAgICAgIHBpcE5hdlNlcnZpY2UuYnJlYWRjcnVtYi50ZXh0ID0gXCJIZWxwXCI7XG4gICAgICAgIHBpcE5hdlNlcnZpY2UuYWN0aW9ucy5oaWRlKCk7XG4gICAgICAgIHBpcE5hdlNlcnZpY2UuYXBwYmFyLnJlbW92ZVNoYWRvdygpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5vbkRyb3Bkb3duU2VsZWN0ID0gKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTmF2aWdhdGlvblNlbGVjdChzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRTZWxlY3Qoc3RhdGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNlbGVjdGVkLnRhYiA9IF8uZmluZCh0aGlzLnRhYnMsICh0YWI6IEhlbHBUYWIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0YWIuc3RhdGUgPT09IHN0YXRlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC50YWJJbmRleCA9IF8uaW5kZXhPZih0aGlzLnRhYnMsIHRoaXMuc2VsZWN0ZWQudGFiKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZC50YWJJZCA9IHN0YXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbk5hdmlnYXRpb25TZWxlY3Qoc3RhdGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmluaXRTZWxlY3Qoc3RhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLnRhYikge1xuICAgICAgICAgICAgdGhpcy4kc3RhdGUuZ28oc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4oKCkgPT4ge1xuXG5hbmd1bGFyLm1vZHVsZSgncGlwSGVscC5QYWdlJywgW1xuICAgICd1aS5yb3V0ZXInLCBcbiAgICAncGlwSGVscC5TZXJ2aWNlJyxcbiAgICAncGlwTmF2JywgXG4gICAgJ3BpcFNlbGVjdGVkJyxcbiAgICAncGlwVHJhbnNsYXRlJyxcbiAgICAncGlwSGVscC5UZW1wbGF0ZXMnXG4gICAgXSlcbiAgICAuY29udHJvbGxlcigncGlwSGVscFBhZ2VDb250cm9sbGVyJywgSGVscFBhZ2VDb250cm9sbGVyKTtcbn0pKCk7XG5cbmltcG9ydCAnLi9IZWxwUGFnZVJvdXRlcyc7IiwiJ3VzZSBzdHJpY3QnO1xuKCgpID0+IHtcbmZ1bmN0aW9uIGNvbmZpZ3VyZUhlbHBQYWdlUm91dGVzKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgLnN0YXRlKCdoZWxwJywge1xuICAgICAgICAgICAgdXJsOiAnL2hlbHA/cGFydHlfaWQnLFxuICAgICAgICAgICAgYXV0aDogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJyRjdHJsJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwaXBIZWxwUGFnZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwX3BhZ2UvSGVscFBhZ2UuaHRtbCdcbiAgICAgICAgfSk7ICAgICAgXG59XG5cbmFuZ3VsYXIubW9kdWxlKCdwaXBIZWxwLlBhZ2UnKVxuICAgIC5jb25maWcoY29uZmlndXJlSGVscFBhZ2VSb3V0ZXMpO1xufSkoKTsiLCJpbXBvcnQge0hlbHBUYWJ9IGZyb20gXCIuLi9oZWxwX2NvbW1vbi9IZWxwVGFiXCI7XG5pbXBvcnQge0hlbHBDb25maWd9IGZyb20gXCIuLi9oZWxwX2NvbW1vbi9IZWxwQ29uZmlnXCI7XG5pbXBvcnQge0hlbHBTZXJ2aWNlfSBmcm9tIFwiLi4vaGVscF9zZXJ2aWNlL0hlbHBTZXJ2aWNlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhlbHBQcm92aWRlciBleHRlbmRzIG5nLklTZXJ2aWNlUHJvdmlkZXIge1xuICAgIGdldERlZmF1bHRUYWIoKTogSGVscFRhYjtcbiAgICBhZGRUYWIodGFiT2JqOiBIZWxwVGFiKTogdm9pZDtcbiAgICBzZXREZWZhdWx0VGFiKG5hbWU6IHN0cmluZyk6IHZvaWQ7XG4gICAgZ2V0RnVsbFN0YXRlTmFtZShzdGF0ZTogc3RyaW5nKTogc3RyaW5nO1xufVxuXG5jbGFzcyBIZWxwUHJvdmlkZXIgaW1wbGVtZW50cyBJSGVscFByb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBIZWxwU2VydmljZTtcbiAgICBwcml2YXRlIF9jb25maWc6IEhlbHBDb25maWcgPSBuZXcgSGVscENvbmZpZygpO1xuXG4gICAgY29uc3RydWN0b3IoIHByaXZhdGUgJHN0YXRlUHJvdmlkZXI6IG5nLnVpLklTdGF0ZVByb3ZpZGVyKSB7fVxuXG4gICAgcHVibGljIGdldEZ1bGxTdGF0ZU5hbWUoc3RhdGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnaGVscC4nICsgc3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlZmF1bHRUYWIoKTogSGVscFRhYiB7XG4gICAgICAgIGxldCBkZWZhdWx0VGFiOiBIZWxwVGFiO1xuXG4gICAgICAgIGRlZmF1bHRUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsIChwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcC5zdGF0ZSA9PT0gdGhpcy5fY29uZmlnLmRlZmF1bHRUYWI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBfLmNsb25lRGVlcChkZWZhdWx0VGFiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVGFiKHRhYk9iajogSGVscFRhYik6IHZvaWQge1xuICAgICAgICBsZXQgZXhpc3RpbmdUYWI6IEhlbHBUYWI7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUYWIodGFiT2JqKTtcbiAgICAgICAgZXhpc3RpbmdUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsIChwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcC5zdGF0ZSA9PT0gJ2hlbHAuJyArIHRhYk9iai5zdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChleGlzdGluZ1RhYikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWIgd2l0aCBzdGF0ZSBuYW1lIFwiJyArIHRhYk9iai5zdGF0ZSArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NvbmZpZy50YWJzLnB1c2goe1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuZ2V0RnVsbFN0YXRlTmFtZSh0YWJPYmouc3RhdGUpLFxuICAgICAgICAgICAgdGl0bGU6IHRhYk9iai50aXRsZSxcbiAgICAgICAgICAgIGluZGV4OiB0YWJPYmouaW5kZXggfHwgMTAwMDAwLFxuICAgICAgICAgICAgYWNjZXNzOiB0YWJPYmouYWNjZXNzLFxuICAgICAgICAgICAgdmlzaWJsZTogdGFiT2JqLnZpc2libGUgIT09IGZhbHNlLFxuICAgICAgICAgICAgc3RhdGVDb25maWc6IF8uY2xvbmVEZWVwKHRhYk9iai5zdGF0ZUNvbmZpZylcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJHN0YXRlUHJvdmlkZXIuc3RhdGUodGhpcy5nZXRGdWxsU3RhdGVOYW1lKHRhYk9iai5zdGF0ZSksIHRhYk9iai5zdGF0ZUNvbmZpZyk7XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBhZGRlZCBmaXJzdCBzdGF0ZSBhbmQgbm8gZGVmYXVsdCBzdGF0ZSBpcyBzcGVjaWZpZWRcbiAgICAgICAgaWYgKHR5cGVvZiBfLmlzVW5kZWZpbmVkKHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiKSAmJiB0aGlzLl9jb25maWcudGFicy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdFRhYih0YWJPYmouc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldERlZmF1bHRUYWIobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE8gW2FwaWRoaXJueWldIGV4dHJhY3QgZXhwcmVzc2lvbiBpbnNpZGUgJ2lmJyBpbnRvIHZhcmlhYmxlLiBJdCBpc24ndCByZWFkYWJsZSBub3cuXG4gICAgICAgIGlmICghXy5maW5kKHRoaXMuX2NvbmZpZy50YWJzLCAodGFiOiBIZWxwVGFiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSAnaGVscC4nICsgbmFtZTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFiIHdpdGggc3RhdGUgbmFtZSBcIicgKyBuYW1lICsgJ1wiIGlzIG5vdCByZWdpc3RlcmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25maWcuZGVmYXVsdFRhYiA9IHRoaXMuZ2V0RnVsbFN0YXRlTmFtZShuYW1lKTtcbiAgICAgICAgLy90aGlzLiRzdGF0ZVByb3ZpZGVyLmdvKHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiKTtcbiAgICAgICAgICAgIC8vcGlwQXV0aFN0YXRlUHJvdmlkZXIucmVkaXJlY3QoJ2hlbHAnLCBnZXRGdWxsU3RhdGVOYW1lKG5hbWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgcGFzc2VkIHRhYiBjb25maWcgb2JqZWN0XG4gICAgICogSWYgcGFzc2VkIHRhYiBpcyBub3QgdmFsaWQgaXQgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAqL1xuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZVRhYih0YWJPYmo6IEhlbHBUYWIpIHtcbiAgICAgICAgaWYgKCF0YWJPYmogfHwgIV8uaXNPYmplY3QodGFiT2JqKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhYk9iai5zdGF0ZSA9PT0gbnVsbCB8fCB0YWJPYmouc3RhdGUgPT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiBzaG91bGQgaGF2ZSB2YWxpZCBBbmd1bGFyIFVJIHJvdXRlciBzdGF0ZSBuYW1lJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFiT2JqLmFjY2VzcyAmJiAhXy5pc0Z1bmN0aW9uKHRhYk9iai5hY2Nlc3MpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiYWNjZXNzXCIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGFiT2JqLnN0YXRlQ29uZmlnIHx8ICFfLmlzT2JqZWN0KHRhYk9iai5zdGF0ZUNvbmZpZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0ZSBjb25maWd1cmF0aW9uIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dUaXRsZVRleHQgKG5ld1RpdGxlVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG5ld1RpdGxlVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlVGV4dCA9IG5ld1RpdGxlVGV4dDtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZUxvZ28gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZVRleHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAobmV3VGl0bGVMb2dvKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcudGl0bGVMb2dvID0gbmV3VGl0bGVMb2dvO1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlVGV4dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnRpdGxlTG9nbztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd05hdkljb24odmFsdWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFfLmlzTnVsbCh2YWx1ZSkgJiYgIV8uaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuaXNOYXZJY29uID0gISF2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuaXNOYXZJY29uO1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KCkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgaWYgKF8uaXNOdWxsKHRoaXMuX3NlcnZpY2UpIHx8IF8uaXNVbmRlZmluZWQodGhpcy5fc2VydmljZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgSGVscFNlcnZpY2UodGhpcy5fY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfVxufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBIZWxwLlNlcnZpY2UnLCBbXSlcbiAgICAucHJvdmlkZXIoJ3BpcEhlbHAnLCBIZWxwUHJvdmlkZXIpOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtIZWxwVGFifSBmcm9tIFwiLi4vaGVscF9jb21tb24vSGVscFRhYlwiO1xuaW1wb3J0IHtIZWxwQ29uZmlnfSBmcm9tIFwiLi4vaGVscF9jb21tb24vSGVscENvbmZpZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElIZWxwU2VydmljZSB7XG4gICAgZ2V0RGVmYXVsdFRhYigpOiBIZWxwVGFiO1xuICAgIHNob3dUaXRsZVRleHQgKG5ld1RpdGxlVGV4dDogc3RyaW5nKTogc3RyaW5nO1xuICAgIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvOiBzdHJpbmcpO1xuICAgIHNldERlZmF1bHRUYWIobmFtZTogc3RyaW5nKTogdm9pZDtcbiAgICBzaG93TmF2SWNvbih2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW47XG4gICAgZ2V0VGFicygpOiBIZWxwVGFiW107XG59XG5cbmV4cG9ydCBjbGFzcyBIZWxwU2VydmljZSBpbXBsZW1lbnRzIElIZWxwU2VydmljZSB7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoIHByaXZhdGUgX2NvbmZpZzogSGVscENvbmZpZykge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGdWxsU3RhdGVOYW1lKHN0YXRlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2hlbHAuJyArIHN0YXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXREZWZhdWx0VGFiKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoIV8uZmluZCh0aGlzLl9jb25maWcudGFicywgKHRhYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gJ2hlbHAuJyArIG5hbWU7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiB3aXRoIHN0YXRlIG5hbWUgXCInICsgbmFtZSArICdcIiBpcyBub3QgcmVnaXN0ZXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29uZmlnLmRlZmF1bHRUYWIgPSB0aGlzLmdldEZ1bGxTdGF0ZU5hbWUobmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlZmF1bHRUYWIoKTogSGVscFRhYiB7XG4gICAgICAgIGxldCBkZWZhdWx0VGFiOiBIZWxwVGFiO1xuICAgICAgICBkZWZhdWx0VGFiID0gXy5maW5kKHRoaXMuX2NvbmZpZy50YWJzLCAocDogSGVscFRhYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHAuc3RhdGUgPT09IHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKGRlZmF1bHRUYWIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93VGl0bGVUZXh0IChuZXdUaXRsZVRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmIChuZXdUaXRsZVRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBuZXdUaXRsZVRleHQ7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcudGl0bGVMb2dvID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcudGl0bGVUZXh0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93VGl0bGVMb2dvKG5ld1RpdGxlTG9nbzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG5ld1RpdGxlTG9nbykge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlTG9nbyA9IG5ld1RpdGxlTG9nbztcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZUxvZ287XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dOYXZJY29uKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuaXNOYXZJY29uID0gISF2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuaXNOYXZJY29uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUYWJzKCk6IEhlbHBUYWJbXSB7XG4gICAgICAgIHJldHVybiBfLmNsb25lRGVlcCh0aGlzLl9jb25maWcudGFicyk7XG4gICAgfVxuXG59XG5cblxuXG4iLCLvu78vKipcbiAqIEBmaWxlIFJlZ2lzdHJhdGlvbiBvZiBhbGwgaGVscCBjb21wb25lbnRzXG4gKiBAY29weXJpZ2h0IERpZ2l0YWwgTGl2aW5nIFNvZnR3YXJlIENvcnAuIDIwMTQtMjAxNlxuICovXG5cbmltcG9ydCAnLi9oZWxwX3Byb3ZpZGVyL0hlbHBQcm92aWRlcic7XG5pbXBvcnQgJy4vaGVscF9wYWdlL0hlbHBQYWdlQ29udHJvbGxlcic7XG5cbmFuZ3VsYXIubW9kdWxlKCdwaXBIZWxwJywgW1xuICAgICdwaXBIZWxwLlNlcnZpY2UnLFxuICAgICdwaXBIZWxwLlBhZ2UnXG5dKTtcblxuZXhwb3J0ICogZnJvbSAnLi9oZWxwX3NlcnZpY2UvSGVscFNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9oZWxwX3BhZ2UvSGVscFBhZ2VDb250cm9sbGVyJzsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEhlbHAuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdoZWxwX3BhZ2UvSGVscFBhZ2UuaHRtbCcsXG4gICAgJzxtZC10b29sYmFyIGNsYXNzPVwicGlwLWFwcGJhci1leHRcIj48L21kLXRvb2xiYXI+XFxuJyArXG4gICAgJzxwaXAtZG9jdW1lbnQgd2lkdGg9XCI4MDBcIiBtaW4taGVpZ2h0PVwiNDAwXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICBjbGFzcz1cInBpcC1oZWxwXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cInBpcC1tZW51LWNvbnRhaW5lclwiXFxuJyArXG4gICAgJyAgICAgICAgIG5nLWhpZGU9XCIkY3RybC5tYW5hZ2VyID09PSBmYWxzZSB8fCAhJGN0cmwudGFicyB8fCAkY3RybC50YWJzLmxlbmd0aCA8IDFcIj5cXG4nICtcbiAgICAnICAgICAgICA8bWQtbGlzdCBjbGFzcz1cInBpcC1tZW51IHBpcC1zaW1wbGUtbGlzdFwiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgcGlwLXNlbGVjdGVkPVwiJGN0cmwuc2VsZWN0ZWQudGFiSW5kZXhcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgIHBpcC1zZWxlY3RlZC13YXRjaD1cIiRjdHJsLnNlbGVjdGVkLm5hdklkXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICBwaXAtc2VsZWN0PVwiJGN0cmwub25OYXZpZ2F0aW9uU2VsZWN0KCRldmVudC5pZClcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWxpc3QtaXRlbSBjbGFzcz1cInBpcC1zaW1wbGUtbGlzdC1pdGVtIHBpcC1zZWxlY3RhYmxlIGZsZXhcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXJlcGVhdD1cInRhYiBpbiAkY3RybC50YWJzIHRyYWNrIGJ5IHRhYi5zdGF0ZVwiIFxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgIG1kLWluay1yaXBwbGVcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICBwaXAtaWQ9XCJ7ezo6IHRhYi5zdGF0ZSB9fVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPHA+e3s6OnRhYi50aXRsZSB8IHRyYW5zbGF0ZX19PC9wPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWxpc3QtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICA8L21kLWxpc3Q+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtY29udGVudC1jb250YWluZXJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPHBpcC1kcm9wZG93biBwaXAtYWN0aW9ucz1cIiRjdHJsLnRhYnNcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcC1kcm9wZG93bi1zZWxlY3Q9XCIkY3RybC5vbkRyb3Bkb3duU2VsZWN0XCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICBwaXAtYWN0aXZlLWluZGV4PVwiJGN0cmwuc2VsZWN0ZWQudGFiSW5kZXhcIj48L3BpcC1kcm9wZG93bj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtYm9keSBwMCBsYXlvdXQtY29sdW1uXCIgdWktdmlldz48L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cImxheW91dC1jb2x1bW4gbGF5b3V0LWFsaWduLWNlbnRlci1jZW50ZXIgZmxleFwiXFxuJyArXG4gICAgJyAgICAgICAgIG5nLXNob3c9XCIkY3RybC5tYW5hZ2VyID09PSBmYWxzZSB8fCAhJGN0cmwudGFicyB8fCAkY3RybC50YWJzLmxlbmd0aCA8IDFcIj5cXG4nICtcbiAgICAnICAgICAgICB7ezo6XFwnRVJST1JfNDAwXFwnIHwgdHJhbnNsYXRlfX1cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICc8L3BpcC1kb2N1bWVudD4nKTtcbn1dKTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcC13ZWJ1aS1oZWxwLWh0bWwuanMubWFwXG4iXX0="}