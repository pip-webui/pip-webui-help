{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/dependencies/translate.ts","src/help_common/HelpConfig.ts","src/help_common/HelpPageSelectedTab.ts","src/help_common/HelpTab.ts","src/help_page/HelpPageController.ts","src/help_page/HelpPageRoutes.ts","src/help_provider/HelpProvider.ts","src/help_service/HelpService.ts","src/pipHelp.ts","temp/pip-webui-help-html.js"],"names":[],"mappings":"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","file":"pip-webui-help.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\r\n * @file Optional filter to translate string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n \r\n/* global angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipHelp.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","import {HelpTab} from \"./HelpTab\";\r\n\r\nexport class HelpConfig {\r\n\r\n    public defaultTab: string;\r\n    public tabs: HelpTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: string = null;\r\n    public isNavIcon: boolean = true;\r\n\r\n}\r\n","import {HelpTab} from \"./HelpTab\";\r\n\r\nexport class HelpPageSelectedTab {\r\n    public tab: HelpTab;\r\n    public tabIndex: number;\r\n    public tabId: string;\r\n}","export class HelpTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: boolean;\r\n    public visible: boolean;\r\n    public stateConfig: any;\r\n}","// Prevent junk from going into typescript definitions\r\nimport {IHelpService} from '../help_service/HelpService';\r\nimport {HelpTab} from '../help_common/HelpTab';\r\nimport {HelpPageSelectedTab} from '../help_common/HelpPageSelectedTab';\r\n\r\nclass HelpPageController {\r\n    private _log: ng.ILogService;\r\n    private _q: ng.IQService;\r\n    private _state: ng.ui.IStateService;\r\n\r\n    public tabs: HelpTab[];\r\n    public selected: HelpPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        $log: ng.ILogService,\r\n        $q: ng.IQService,\r\n        $state: ng.ui.IStateService,\r\n        pipNavService,//: pip.nav.INavService,\r\n        pipHelp: IHelpService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService\r\n    ) {\r\n        this._log = $log;\r\n        this._q = $q;\r\n        this._state = $state;\r\n\r\n        this.tabs = _.filter(pipHelp.getTabs(), (tab: any) =>{\r\n              return tab;\r\n                /*if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\r\n                    return tab;\r\n                }*/\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new HelpPageSelectedTab();\r\n        if (this._state.current.name !== 'help') {\r\n            this.initSelect(this._state.current.name);\r\n        } else if (this._state.current.name === 'help' && pipHelp.getDefaultTab()) {\r\n            this.initSelect(pipHelp.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipHelp.getDefaultTab()) {\r\n                    this.initSelect(pipHelp.getDefaultTab().state);\r\n                }\r\n                if (!pipHelp.getDefaultTab() && this.tabs && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Help\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string) {\r\n        this.selected.tab = _.find(this.tabs, (tab: HelpTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n    }\r\n\r\n    public onNavigationSelect(state: string) {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this._state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\nangular.module('pipHelp.Page', [\r\n    'ui.router', \r\n    'pipHelp.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipHelp.Templates'\r\n    ])\r\n    .controller('pipHelpPageController', HelpPageController);\r\n})();\r\n\r\nimport './HelpPageRoutes';","'use strict';\r\n\r\nfunction configureHelpPageRoutes($stateProvider) {\r\n    $stateProvider\r\n        .state('help', {\r\n            url: '/help?party_id',\r\n            auth: true,\r\n            controllerAs: 'vm',\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/HelpPage.html'\r\n        });      \r\n}\r\n\r\nangular.module('pipHelp.Page')\r\n    .config(configureHelpPageRoutes);\r\n","import {HelpTab} from \"../help_common/HelpTab\";\r\nimport {HelpConfig} from \"../help_common/HelpConfig\";\r\nimport {HelpService} from \"../help_service/HelpService\";\r\n\r\nexport interface IHelpProvider extends ng.IServiceProvider {\r\n    getDefaultTab(): HelpTab;\r\n    addTab(tabObj: HelpTab): void;\r\n    setDefaultTab(name: string): void;\r\n    getFullStateName(state: string): string;\r\n}\r\n\r\nclass HelpProvider implements IHelpProvider {\r\n    private _service: HelpService;\r\n    private _config: HelpConfig = new HelpConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {\r\n    }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: HelpTab): void {\r\n        let existingTab: HelpTab;\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (p) => {\r\n            return p.state === 'help.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof _.isUndefined(this._config.defaultTab) && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: HelpTab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('help', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: HelpTab) {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (!_.isNull(value) && !_.isUndefined(value)) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new HelpService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipHelp.Service', [])\r\n    .provider('pipHelp', HelpProvider);","'use strict';\r\n\r\nimport {HelpTab} from \"../help_common/HelpTab\";\r\nimport {HelpConfig} from \"../help_common/HelpConfig\";\r\n\r\nexport interface IHelpService {\r\n    getDefaultTab(): HelpTab;\r\n    showTitleText (newTitleText: string): string;\r\n    showTitleLogo(newTitleLogo: string);\r\n    setDefaultTab(name: string): void;\r\n    showNavIcon(value: boolean): boolean;\r\n    getTabs(): HelpTab[];\r\n}\r\n\r\nexport class HelpService implements IHelpService {\r\n\r\n    public constructor( private _config: HelpConfig) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'help.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab) => {\r\n            return tab.state === 'help.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): HelpTab {\r\n        let defaultTab: HelpTab;\r\n        defaultTab = _.find(this._config.tabs, (p: HelpTab) => {\r\n            return p.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo: string): string {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): HelpTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","﻿/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\nimport './help_provider/HelpProvider';\r\nimport './help_page/HelpPageController';\r\n\r\nangular.module('pipHelp', [\r\n    'pipHelp.Service',\r\n    'pipHelp.Page'\r\n]);\r\n\r\nexport * from './help_service/HelpService';\r\nexport * from './help_page/HelpPageController';","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/HelpPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar>\\n' +\n    '<pip-document width=\"800\" min-height=\"400\"\\n' +\n    '              class=\"pip-help\">\\n' +\n    '\\n' +\n    '    <div class=\"pip-menu-container\"\\n' +\n    '         ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">\\n' +\n    '        <md-list class=\"pip-menu pip-simple-list\"\\n' +\n    '                 pip-selected=\"vm.selected.tabIndex\"\\n' +\n    '                 pip-selected-watch=\"vm.selected.navId\"\\n' +\n    '                 pip-select=\"vm.onNavigationSelect($event.id)\">\\n' +\n    '            <md-list-item class=\"pip-simple-list-item pip-selectable flex\"\\n' +\n    '                          ng-repeat=\"tab in vm.tabs track by tab.state\" \\n' +\n    '                          md-ink-ripple\\n' +\n    '                          pip-id=\"{{:: tab.state }}\">\\n' +\n    '                <p>{{::tab.title | translate}}</p>\\n' +\n    '            </md-list-item>\\n' +\n    '        </md-list>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content-container\">\\n' +\n    '            <pip-dropdown pip-actions=\"vm.tabs\"\\n' +\n    '                          pip-dropdown-select=\"vm.onDropdownSelect\"\\n' +\n    '                          pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown>\\n' +\n    '\\n' +\n    '            <div class=\"pip-body p0 layout-column\" ui-view></div>\\n' +\n    '        </div>\\n' +\n    '    </div>\\n' +\n    '    <div class=\"layout-column layout-align-center-center flex\"\\n' +\n    '         ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">\\n' +\n    '        {{::\\'ERROR_400\\' | translate}}\\n' +\n    '    </div>\\n' +\n    '</pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZGVwZW5kZW5jaWVzL3RyYW5zbGF0ZS50cyIsInNyYy9oZWxwX2NvbW1vbi9IZWxwQ29uZmlnLnRzIiwic3JjL2hlbHBfY29tbW9uL0hlbHBQYWdlU2VsZWN0ZWRUYWIudHMiLCJzcmMvaGVscF9jb21tb24vSGVscFRhYi50cyIsInNyYy9oZWxwX3BhZ2UvSGVscFBhZ2VDb250cm9sbGVyLnRzIiwic3JjL2hlbHBfcGFnZS9IZWxwUGFnZVJvdXRlcy50cyIsInNyYy9oZWxwX3Byb3ZpZGVyL0hlbHBQcm92aWRlci50cyIsInNyYy9oZWxwX3NlcnZpY2UvSGVscFNlcnZpY2UudHMiLCJzcmMvcGlwSGVscC50cyIsInRlbXAvcGlwLXdlYnVpLWhlbHAtaHRtbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ09BLENBQUM7SUFDRyxZQUFZLENBQUM7SUFFYixJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXpELFVBQVUsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLFVBQVUsU0FBUztRQUM5QyxJQUFJLFlBQVksR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztjQUMxQyxTQUFTLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUUzQyxNQUFNLENBQUMsVUFBVSxHQUFHO1lBQ2hCLE1BQU0sQ0FBQyxZQUFZLEdBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3BFLENBQUMsQ0FBQTtJQUNMLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs7OztBQ25CTDtJQUFBO1FBR1csU0FBSSxHQUFjLEVBQUUsQ0FBQztRQUNyQixjQUFTLEdBQVcsZ0JBQWdCLENBQUM7UUFDckMs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QUFNLENBQUMsU0FBUyxFQUFFO0lBQ3RCLGlCQUFpQjtJQUNqQixjQUFjO0NBQ2pCLENBQUMsQ0FBQztBQUVILGdEQUEyQzs7QUNiM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcclxuICogQGZpbGUgT3B0aW9uYWwgZmlsdGVyIHRvIHRyYW5zbGF0ZSBzdHJpbmcgcmVzb3VyY2VzXHJcbiAqIEBjb3B5cmlnaHQgRGlnaXRhbCBMaXZpbmcgU29mdHdhcmUgQ29ycC4gMjAxNC0yMDE2XHJcbiAqL1xyXG4gXHJcbi8qIGdsb2JhbCBhbmd1bGFyICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEhlbHAuVHJhbnNsYXRlJywgW10pO1xyXG5cclxuICAgIHRoaXNNb2R1bGUuZmlsdGVyKCd0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJGluamVjdG9yKSB7XHJcbiAgICAgICAgdmFyIHBpcFRyYW5zbGF0ZSA9ICRpbmplY3Rvci5oYXMoJ3BpcFRyYW5zbGF0ZScpIFxyXG4gICAgICAgICAgICA/ICRpbmplY3Rvci5nZXQoJ3BpcFRyYW5zbGF0ZScpIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBpcFRyYW5zbGF0ZSAgPyBwaXBUcmFuc2xhdGUudHJhbnNsYXRlKGtleSkgfHwga2V5IDoga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkoKTtcclxuIiwiaW1wb3J0IHtIZWxwVGFifSBmcm9tIFwiLi9IZWxwVGFiXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSGVscENvbmZpZyB7XHJcblxyXG4gICAgcHVibGljIGRlZmF1bHRUYWI6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWJzOiBIZWxwVGFiW10gPSBbXTtcclxuICAgIHB1YmxpYyB0aXRsZVRleHQ6IHN0cmluZyA9ICdTRVRUSU5HU19USVRMRSc7XHJcbiAgICBwdWJsaWMgdGl0bGVMb2dvOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgcHVibGljIGlzTmF2SWNvbjogYm9vbGVhbiA9IHRydWU7XHJcblxyXG59XHJcbiIsImltcG9ydCB7SGVscFRhYn0gZnJvbSBcIi4vSGVscFRhYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlbHBQYWdlU2VsZWN0ZWRUYWIge1xyXG4gICAgcHVibGljIHRhYjogSGVscFRhYjtcclxuICAgIHB1YmxpYyB0YWJJbmRleDogbnVtYmVyO1xyXG4gICAgcHVibGljIHRhYklkOiBzdHJpbmc7XHJcbn0iLCJleHBvcnQgY2xhc3MgSGVscFRhYiB7XHJcbiAgICBwdWJsaWMgc3RhdGU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGluZGV4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYWNjZXNzOiBib29sZWFuO1xyXG4gICAgcHVibGljIHZpc2libGU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc3RhdGVDb25maWc6IGFueTtcclxufSIsIi8vIFByZXZlbnQganVuayBmcm9tIGdvaW5nIGludG8gdHlwZXNjcmlwdCBkZWZpbml0aW9uc1xyXG5pbXBvcnQge0lIZWxwU2VydmljZX0gZnJvbSAnLi4vaGVscF9zZXJ2aWNlL0hlbHBTZXJ2aWNlJztcclxuaW1wb3J0IHtIZWxwVGFifSBmcm9tICcuLi9oZWxwX2NvbW1vbi9IZWxwVGFiJztcclxuaW1wb3J0IHtIZWxwUGFnZVNlbGVjdGVkVGFifSBmcm9tICcuLi9oZWxwX2NvbW1vbi9IZWxwUGFnZVNlbGVjdGVkVGFiJztcclxuXHJcbmNsYXNzIEhlbHBQYWdlQ29udHJvbGxlciB7XHJcbiAgICBwcml2YXRlIF9sb2c6IG5nLklMb2dTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBfcTogbmcuSVFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBfc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2U7XHJcblxyXG4gICAgcHVibGljIHRhYnM6IEhlbHBUYWJbXTtcclxuICAgIHB1YmxpYyBzZWxlY3RlZDogSGVscFBhZ2VTZWxlY3RlZFRhYjtcclxuICAgIHB1YmxpYyBvbkRyb3Bkb3duU2VsZWN0OiBGdW5jdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICAkbG9nOiBuZy5JTG9nU2VydmljZSxcclxuICAgICAgICAkcTogbmcuSVFTZXJ2aWNlLFxyXG4gICAgICAgICRzdGF0ZTogbmcudWkuSVN0YXRlU2VydmljZSxcclxuICAgICAgICBwaXBOYXZTZXJ2aWNlLC8vOiBwaXAubmF2LklOYXZTZXJ2aWNlLFxyXG4gICAgICAgIHBpcEhlbHA6IElIZWxwU2VydmljZSxcclxuICAgICAgICAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgXHJcbiAgICAgICAgJHRpbWVvdXQ6IGFuZ3VsYXIuSVRpbWVvdXRTZXJ2aWNlXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLl9sb2cgPSAkbG9nO1xyXG4gICAgICAgIHRoaXMuX3EgPSAkcTtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcclxuXHJcbiAgICAgICAgdGhpcy50YWJzID0gXy5maWx0ZXIocGlwSGVscC5nZXRUYWJzKCksICh0YWI6IGFueSkgPT57XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcclxuICAgICAgICAgICAgICAgIC8qaWYgKHRhYi52aXNpYmxlID09PSB0cnVlICYmICh0YWIuYWNjZXNzID8gdGFiLmFjY2Vzcygkcm9vdFNjb3BlLiR1c2VyLCB0YWIpIDogdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhYnMgPSBfLnNvcnRCeSh0aGlzLnRhYnMsICdpbmRleCcpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gbmV3IEhlbHBQYWdlU2VsZWN0ZWRUYWIoKTtcclxuICAgICAgICBpZiAodGhpcy5fc3RhdGUuY3VycmVudC5uYW1lICE9PSAnaGVscCcpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0KHRoaXMuX3N0YXRlLmN1cnJlbnQubmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdoZWxwJyAmJiBwaXBIZWxwLmdldERlZmF1bHRUYWIoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3QocGlwSGVscC5nZXREZWZhdWx0VGFiKCkuc3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwaXBIZWxwLmdldERlZmF1bHRUYWIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdChwaXBIZWxwLmdldERlZmF1bHRUYWIoKS5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBpcEhlbHAuZ2V0RGVmYXVsdFRhYigpICYmIHRoaXMudGFicyAmJiB0aGlzLnRhYnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdCh0aGlzLnRhYnNbMF0uc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBpcE5hdlNlcnZpY2UuaWNvbi5zaG93TWVudSgpO1xyXG4gICAgICAgIHBpcE5hdlNlcnZpY2UuYnJlYWRjcnVtYi50ZXh0ID0gXCJIZWxwXCI7XHJcbiAgICAgICAgcGlwTmF2U2VydmljZS5hY3Rpb25zLmhpZGUoKTtcclxuICAgICAgICBwaXBOYXZTZXJ2aWNlLmFwcGJhci5yZW1vdmVTaGFkb3coKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9uRHJvcGRvd25TZWxlY3QgPSAoc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbk5hdmlnYXRpb25TZWxlY3Qoc3RhdGUuc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRTZWxlY3Qoc3RhdGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQudGFiID0gXy5maW5kKHRoaXMudGFicywgKHRhYjogSGVscFRhYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSBzdGF0ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkLnRhYkluZGV4ID0gXy5pbmRleE9mKHRoaXMudGFicywgdGhpcy5zZWxlY3RlZC50YWIpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQudGFiSWQgPSBzdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25OYXZpZ2F0aW9uU2VsZWN0KHN0YXRlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmluaXRTZWxlY3Qoc3RhdGUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC50YWIpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZ28oc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuKCgpID0+IHtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwaXBIZWxwLlBhZ2UnLCBbXHJcbiAgICAndWkucm91dGVyJywgXHJcbiAgICAncGlwSGVscC5TZXJ2aWNlJyxcclxuICAgICdwaXBOYXYnLCBcclxuICAgICdwaXBTZWxlY3RlZCcsXHJcbiAgICAncGlwVHJhbnNsYXRlJyxcclxuICAgICdwaXBIZWxwLlRlbXBsYXRlcydcclxuICAgIF0pXHJcbiAgICAuY29udHJvbGxlcigncGlwSGVscFBhZ2VDb250cm9sbGVyJywgSGVscFBhZ2VDb250cm9sbGVyKTtcclxufSkoKTtcclxuXHJcbmltcG9ydCAnLi9IZWxwUGFnZVJvdXRlcyc7IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZnVuY3Rpb24gY29uZmlndXJlSGVscFBhZ2VSb3V0ZXMoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgLnN0YXRlKCdoZWxwJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvaGVscD9wYXJ0eV9pZCcsXHJcbiAgICAgICAgICAgIGF1dGg6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3BpcEhlbHBQYWdlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaGVscF9wYWdlL0hlbHBQYWdlLmh0bWwnXHJcbiAgICAgICAgfSk7ICAgICAgXHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwaXBIZWxwLlBhZ2UnKVxyXG4gICAgLmNvbmZpZyhjb25maWd1cmVIZWxwUGFnZVJvdXRlcyk7XHJcbiIsImltcG9ydCB7SGVscFRhYn0gZnJvbSBcIi4uL2hlbHBfY29tbW9uL0hlbHBUYWJcIjtcclxuaW1wb3J0IHtIZWxwQ29uZmlnfSBmcm9tIFwiLi4vaGVscF9jb21tb24vSGVscENvbmZpZ1wiO1xyXG5pbXBvcnQge0hlbHBTZXJ2aWNlfSBmcm9tIFwiLi4vaGVscF9zZXJ2aWNlL0hlbHBTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElIZWxwUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcclxuICAgIGdldERlZmF1bHRUYWIoKTogSGVscFRhYjtcclxuICAgIGFkZFRhYih0YWJPYmo6IEhlbHBUYWIpOiB2b2lkO1xyXG4gICAgc2V0RGVmYXVsdFRhYihuYW1lOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgZ2V0RnVsbFN0YXRlTmFtZShzdGF0ZTogc3RyaW5nKTogc3RyaW5nO1xyXG59XHJcblxyXG5jbGFzcyBIZWxwUHJvdmlkZXIgaW1wbGVtZW50cyBJSGVscFByb3ZpZGVyIHtcclxuICAgIHByaXZhdGUgX3NlcnZpY2U6IEhlbHBTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBfY29uZmlnOiBIZWxwQ29uZmlnID0gbmV3IEhlbHBDb25maWcoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzdGF0ZVByb3ZpZGVyOiBuZy51aS5JU3RhdGVQcm92aWRlcikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGdWxsU3RhdGVOYW1lKHN0YXRlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnaGVscC4nICsgc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERlZmF1bHRUYWIoKTogSGVscFRhYiB7XHJcbiAgICAgICAgbGV0IGRlZmF1bHRUYWI6IEhlbHBUYWI7XHJcblxyXG4gICAgICAgIGRlZmF1bHRUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsIChwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwLnN0YXRlID09PSB0aGlzLl9jb25maWcuZGVmYXVsdFRhYjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKGRlZmF1bHRUYWIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRUYWIodGFiT2JqOiBIZWxwVGFiKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGV4aXN0aW5nVGFiOiBIZWxwVGFiO1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGVUYWIodGFiT2JqKTtcclxuICAgICAgICBleGlzdGluZ1RhYiA9IF8uZmluZCh0aGlzLl9jb25maWcudGFicywgKHApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHAuc3RhdGUgPT09ICdoZWxwLicgKyB0YWJPYmouc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVGFiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFiIHdpdGggc3RhdGUgbmFtZSBcIicgKyB0YWJPYmouc3RhdGUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb25maWcudGFicy5wdXNoKHtcclxuICAgICAgICAgICAgc3RhdGU6IHRoaXMuZ2V0RnVsbFN0YXRlTmFtZSh0YWJPYmouc3RhdGUpLFxyXG4gICAgICAgICAgICB0aXRsZTogdGFiT2JqLnRpdGxlLFxyXG4gICAgICAgICAgICBpbmRleDogdGFiT2JqLmluZGV4IHx8IDEwMDAwMCxcclxuICAgICAgICAgICAgYWNjZXNzOiB0YWJPYmouYWNjZXNzLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0YWJPYmoudmlzaWJsZSAhPT0gZmFsc2UsXHJcbiAgICAgICAgICAgIHN0YXRlQ29uZmlnOiBfLmNsb25lRGVlcCh0YWJPYmouc3RhdGVDb25maWcpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy4kc3RhdGVQcm92aWRlci5zdGF0ZSh0aGlzLmdldEZ1bGxTdGF0ZU5hbWUodGFiT2JqLnN0YXRlKSwgdGFiT2JqLnN0YXRlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgLy8gaWYgd2UganVzdCBhZGRlZCBmaXJzdCBzdGF0ZSBhbmQgbm8gZGVmYXVsdCBzdGF0ZSBpcyBzcGVjaWZpZWRcclxuICAgICAgICBpZiAodHlwZW9mIF8uaXNVbmRlZmluZWQodGhpcy5fY29uZmlnLmRlZmF1bHRUYWIpICYmIHRoaXMuX2NvbmZpZy50YWJzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldERlZmF1bHRUYWIodGFiT2JqLnN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERlZmF1bHRUYWIobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgLy8gVE9ETyBbYXBpZGhpcm55aV0gZXh0cmFjdCBleHByZXNzaW9uIGluc2lkZSAnaWYnIGludG8gdmFyaWFibGUuIEl0IGlzbid0IHJlYWRhYmxlIG5vdy5cclxuICAgICAgICBpZiAoIV8uZmluZCh0aGlzLl9jb25maWcudGFicywgKHRhYjogSGVscFRhYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSAnaGVscC4nICsgbmFtZTtcclxuICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiB3aXRoIHN0YXRlIG5hbWUgXCInICsgbmFtZSArICdcIiBpcyBub3QgcmVnaXN0ZXJlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29uZmlnLmRlZmF1bHRUYWIgPSB0aGlzLmdldEZ1bGxTdGF0ZU5hbWUobmFtZSk7XHJcbiAgICAgICAgLy90aGlzLiRzdGF0ZVByb3ZpZGVyLmdvKHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiKTtcclxuICAgICAgICAgICAgLy9waXBBdXRoU3RhdGVQcm92aWRlci5yZWRpcmVjdCgnaGVscCcsIGdldEZ1bGxTdGF0ZU5hbWUobmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHBhc3NlZCB0YWIgY29uZmlnIG9iamVjdFxyXG4gICAgICogSWYgcGFzc2VkIHRhYiBpcyBub3QgdmFsaWQgaXQgd2lsbCB0aHJvdyBhbiBlcnJvclxyXG4gICAgICovXHJcblxyXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZVRhYih0YWJPYmo6IEhlbHBUYWIpIHtcclxuICAgICAgICBpZiAoIXRhYk9iaiB8fCAhXy5pc09iamVjdCh0YWJPYmopKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvYmplY3QnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJPYmouc3RhdGUgPT09IG51bGwgfHwgdGFiT2JqLnN0YXRlID09PSAnJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiBzaG91bGQgaGF2ZSB2YWxpZCBBbmd1bGFyIFVJIHJvdXRlciBzdGF0ZSBuYW1lJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFiT2JqLmFjY2VzcyAmJiAhXy5pc0Z1bmN0aW9uKHRhYk9iai5hY2Nlc3MpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJhY2Nlc3NcIiBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0YWJPYmouc3RhdGVDb25maWcgfHwgIV8uaXNPYmplY3QodGFiT2JqLnN0YXRlQ29uZmlnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RhdGUgY29uZmlndXJhdGlvbiBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZVRleHQgKG5ld1RpdGxlVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobmV3VGl0bGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBuZXdUaXRsZVRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZUxvZ28gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZVRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChuZXdUaXRsZUxvZ28pIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlTG9nbyA9IG5ld1RpdGxlTG9nbztcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlVGV4dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnRpdGxlTG9nbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd05hdkljb24odmFsdWU6IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIV8uaXNOdWxsKHZhbHVlKSAmJiAhXy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmlzTmF2SWNvbiA9ICEhdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmlzTmF2SWNvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgJGdldCgpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcblxyXG4gICAgICAgIGlmIChfLmlzTnVsbCh0aGlzLl9zZXJ2aWNlKSB8fCBfLmlzVW5kZWZpbmVkKHRoaXMuX3NlcnZpY2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgSGVscFNlcnZpY2UodGhpcy5fY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKCdwaXBIZWxwLlNlcnZpY2UnLCBbXSlcclxuICAgIC5wcm92aWRlcigncGlwSGVscCcsIEhlbHBQcm92aWRlcik7IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHtIZWxwVGFifSBmcm9tIFwiLi4vaGVscF9jb21tb24vSGVscFRhYlwiO1xyXG5pbXBvcnQge0hlbHBDb25maWd9IGZyb20gXCIuLi9oZWxwX2NvbW1vbi9IZWxwQ29uZmlnXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElIZWxwU2VydmljZSB7XHJcbiAgICBnZXREZWZhdWx0VGFiKCk6IEhlbHBUYWI7XHJcbiAgICBzaG93VGl0bGVUZXh0IChuZXdUaXRsZVRleHQ6IHN0cmluZyk6IHN0cmluZztcclxuICAgIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvOiBzdHJpbmcpO1xyXG4gICAgc2V0RGVmYXVsdFRhYihuYW1lOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgc2hvd05hdkljb24odmFsdWU6IGJvb2xlYW4pOiBib29sZWFuO1xyXG4gICAgZ2V0VGFicygpOiBIZWxwVGFiW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIZWxwU2VydmljZSBpbXBsZW1lbnRzIElIZWxwU2VydmljZSB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCBwcml2YXRlIF9jb25maWc6IEhlbHBDb25maWcpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGdWxsU3RhdGVOYW1lKHN0YXRlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnaGVscC4nICsgc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERlZmF1bHRUYWIobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsICh0YWIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gJ2hlbHAuJyArIG5hbWU7XHJcbiAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWIgd2l0aCBzdGF0ZSBuYW1lIFwiJyArIG5hbWUgKyAnXCIgaXMgbm90IHJlZ2lzdGVyZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiID0gdGhpcy5nZXRGdWxsU3RhdGVOYW1lKG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZWZhdWx0VGFiKCk6IEhlbHBUYWIge1xyXG4gICAgICAgIGxldCBkZWZhdWx0VGFiOiBIZWxwVGFiO1xyXG4gICAgICAgIGRlZmF1bHRUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsIChwOiBIZWxwVGFiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwLnN0YXRlID09PSB0aGlzLl9jb25maWcuZGVmYXVsdFRhYjtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoZGVmYXVsdFRhYik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZVRleHQgKG5ld1RpdGxlVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobmV3VGl0bGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBuZXdUaXRsZVRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZUxvZ28gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZVRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChuZXdUaXRsZUxvZ28pIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlTG9nbyA9IG5ld1RpdGxlTG9nbztcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlVGV4dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnRpdGxlTG9nbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd05hdkljb24odmFsdWU6IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcuaXNOYXZJY29uID0gISF2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuaXNOYXZJY29uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUYWJzKCk6IEhlbHBUYWJbXSB7XHJcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKHRoaXMuX2NvbmZpZy50YWJzKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwi77u/LyoqXHJcbiAqIEBmaWxlIFJlZ2lzdHJhdGlvbiBvZiBhbGwgaGVscCBjb21wb25lbnRzXHJcbiAqIEBjb3B5cmlnaHQgRGlnaXRhbCBMaXZpbmcgU29mdHdhcmUgQ29ycC4gMjAxNC0yMDE2XHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL2hlbHBfcHJvdmlkZXIvSGVscFByb3ZpZGVyJztcclxuaW1wb3J0ICcuL2hlbHBfcGFnZS9IZWxwUGFnZUNvbnRyb2xsZXInO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3BpcEhlbHAnLCBbXHJcbiAgICAncGlwSGVscC5TZXJ2aWNlJyxcclxuICAgICdwaXBIZWxwLlBhZ2UnXHJcbl0pO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9oZWxwX3NlcnZpY2UvSGVscFNlcnZpY2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hlbHBfcGFnZS9IZWxwUGFnZUNvbnRyb2xsZXInOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBIZWxwLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2hlbHBfcGFnZS9IZWxwUGFnZS5odG1sJyxcbiAgICAnPG1kLXRvb2xiYXIgY2xhc3M9XCJwaXAtYXBwYmFyLWV4dFwiPjwvbWQtdG9vbGJhcj5cXG4nICtcbiAgICAnPHBpcC1kb2N1bWVudCB3aWR0aD1cIjgwMFwiIG1pbi1oZWlnaHQ9XCI0MDBcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgIGNsYXNzPVwicGlwLWhlbHBcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwicGlwLW1lbnUtY29udGFpbmVyXCJcXG4nICtcbiAgICAnICAgICAgICAgbmctaGlkZT1cInZtLm1hbmFnZXIgPT09IGZhbHNlIHx8ICF2bS50YWJzIHx8IHZtLnRhYnMubGVuZ3RoIDwgMVwiPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1saXN0IGNsYXNzPVwicGlwLW1lbnUgcGlwLXNpbXBsZS1saXN0XCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICBwaXAtc2VsZWN0ZWQ9XCJ2bS5zZWxlY3RlZC50YWJJbmRleFwiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgcGlwLXNlbGVjdGVkLXdhdGNoPVwidm0uc2VsZWN0ZWQubmF2SWRcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgIHBpcC1zZWxlY3Q9XCJ2bS5vbk5hdmlnYXRpb25TZWxlY3QoJGV2ZW50LmlkKVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtbGlzdC1pdGVtIGNsYXNzPVwicGlwLXNpbXBsZS1saXN0LWl0ZW0gcGlwLXNlbGVjdGFibGUgZmxleFwiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgbmctcmVwZWF0PVwidGFiIGluIHZtLnRhYnMgdHJhY2sgYnkgdGFiLnN0YXRlXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgbWQtaW5rLXJpcHBsZVxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcC1pZD1cInt7OjogdGFiLnN0YXRlIH19XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8cD57ezo6dGFiLnRpdGxlIHwgdHJhbnNsYXRlfX08L3A+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbicgK1xuICAgICcgICAgICAgIDwvbWQtbGlzdD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1jb250ZW50LWNvbnRhaW5lclwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8cGlwLWRyb3Bkb3duIHBpcC1hY3Rpb25zPVwidm0udGFic1wiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgcGlwLWRyb3Bkb3duLXNlbGVjdD1cInZtLm9uRHJvcGRvd25TZWxlY3RcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcC1hY3RpdmUtaW5kZXg9XCJ2bS5zZWxlY3RlZC50YWJJbmRleFwiPjwvcGlwLWRyb3Bkb3duPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1ib2R5IHAwIGxheW91dC1jb2x1bW5cIiB1aS12aWV3PjwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LWNvbHVtbiBsYXlvdXQtYWxpZ24tY2VudGVyLWNlbnRlciBmbGV4XCJcXG4nICtcbiAgICAnICAgICAgICAgbmctc2hvdz1cInZtLm1hbmFnZXIgPT09IGZhbHNlIHx8ICF2bS50YWJzIHx8IHZtLnRhYnMubGVuZ3RoIDwgMVwiPlxcbicgK1xuICAgICcgICAgICAgIHt7OjpcXCdFUlJPUl80MDBcXCcgfCB0cmFuc2xhdGV9fVxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvcGlwLWRvY3VtZW50PicpO1xufV0pO1xufSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwLXdlYnVpLWhlbHAtaHRtbC5qcy5tYXBcbiJdfQ=="}