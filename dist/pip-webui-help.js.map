{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.min.js"],"names":[],"mappings":"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","file":"pip-webui-help.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","ï»¿/**\r\n * @file Registration of all help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp', [\r\n        'pipHelp.Service',\r\n        'pipHelp.Page'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Page template for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\r\n        'pipHelp.Templates'])\r\n        .config(config)\r\n        .controller('pipHelpPageController', HelpPageController);\r\n\r\n    function config($stateProvider) {\r\n        $stateProvider.state('help', {\r\n            url: '/help',\r\n            auth: false,\r\n            controller: 'pipHelpPageController',\r\n            templateUrl: 'help_page/help_page.html'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipHelp.Page.pipHelpPageController\r\n     *\r\n     * @description\r\n     * The controller is used for the root Help component.\r\n     * It manages available tabs provide navigation through those ones.\r\n     *\r\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\r\n     *\r\n     *\r\n     * @param {Object} $rootScope   Root scope object\r\n     * @param {Object} $scope       Scope for the current controller\r\n     * @param {Object} $state       UI Router service\r\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\r\n     * @param {Object} pipHelp      Service to manage this component behaviour\r\n     */\r\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\r\n\r\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\r\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n        $scope.selected = {};\r\n\r\n        if ($state.current.name !== 'help') {\r\n            initSelect($state.current.name);\r\n        } else {\r\n            initSelect(pipHelp.getDefaultTab().state);\r\n        }\r\n\r\n        appHeader();\r\n\r\n        $scope.onNavigationSelect = onNavigationSelect;\r\n        $scope.onDropdownSelect = onDropdownSelect;\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\r\n         *\r\n         * @param {Object} state    State configuration object\r\n         */\r\n        function onDropdownSelect(state) {\r\n            onNavigationSelect(state.state);\r\n        }\r\n\r\n        /**\r\n         * Config appBar due to this page\r\n         */\r\n        function appHeader() {\r\n            pipAppBar.showMenuNavIcon();\r\n            pipAppBar.showTitleText('Help');\r\n            pipAppBar.showShadowSm();\r\n            pipAppBar.showLocalActions(null, []);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc method\r\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\r\n         * @methodOf pipHelp.Page.pipHelpPageController\r\n         *\r\n         * @description\r\n         * It redirects to a passed state.\r\n         *\r\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\r\n         *\r\n         * @param {string} state    Name of the target state.\r\n         */\r\n        function onNavigationSelect(state) {\r\n            initSelect(state);\r\n\r\n            if ($scope.selected.tab) {\r\n                $state.go(state);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set selected item for highlighting in the nav menu\r\n         */\r\n        function initSelect(state) {\r\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\r\n                return tab.state === state;\r\n            });\r\n\r\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\r\n            $scope.selected.tabId = state;\r\n        }\r\n    }\r\n})();\r\n","/**\r\n * @file Service for help components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name pipHelp.Service.pipHelp\r\n     *\r\n     * @description\r\n     * This service is provided an interface to manage the Help component.\r\n     * It is available on the config and run application phases. On the both phases the interface is the same.\r\n     * This module requires the '$state' module.\r\n     */\r\n    angular.module('pipHelp.Service', ['ui.router'])\r\n        .provider('pipHelp',\r\n            function ($stateProvider): any {\r\n                var defaultTab,\r\n                    tabs = [];\r\n\r\n                /** @see addTab */\r\n                this.addTab = addTab;\r\n\r\n                /** @see setDefaultTab */\r\n                this.setDefaultTab = setDefaultTab;\r\n\r\n                /** @see getTabs */\r\n                this.getTabs = getTabs;\r\n\r\n                /** @see getDefaultTab */\r\n                this.getDefaultTab = getDefaultTab;\r\n\r\n                this.$get = function () {\r\n                    return {\r\n                        /** @see getTabs */\r\n                        getTabs: getTabs,\r\n\r\n                        /** @see getDefaultTab */\r\n                        getDefaultTab: getDefaultTab,\r\n\r\n                        /** @see addTab */\r\n                        addTab: addTab,\r\n\r\n                        /** @see setDefaultTab */\r\n                        setDefaultTab: setDefaultTab\r\n                    };\r\n                };\r\n\r\n                /**\r\n                 * This method build the full name of state within the abstract 'help' state\r\n                 */\r\n                function getFullStateName(state) {\r\n                    return 'help.' + state;\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getTabs\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method returns asset of all tabs registered in the Help component.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\r\n                 *\r\n                 * @returns {Array<Object>} List of registered states\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getTabs();\r\n                 * </pre>\r\n                 */\r\n                function getTabs() {\r\n                    return _.cloneDeep(tabs);\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method return name of the default state.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\r\n                 *\r\n                 * @returns {string} Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * // on the config phase\r\n                 * pipHelpProvider.getDefaultTab();\r\n                 * </pre>\r\n                 */\r\n                function getDefaultTab() {\r\n                    return _.cloneDeep(_.find(tabs, function (tab) {\r\n                        return tab.state === defaultTab;\r\n                    }));\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#addTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\r\n                 * with needed params.\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\r\n                 *\r\n                 * @param {Object} tabObj Configuration object contains settings for another tab\r\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\r\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\r\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\r\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\r\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 *  // on the config phase\r\n                 *  pipHelpProvider.addTab({\r\n                 *      state: 'test',\r\n                 *      title: 'Test help tab',\r\n                 *      auth: true,\r\n                 *      stateConfig: {\r\n                 *          url: '/test',\r\n                 *          templateUrl: 'help/help_test1.html'\r\n                 *      }\r\n                 *  });\r\n                 * </pre>\r\n                 */\r\n                function addTab(tabObj) {\r\n                    var tab;\r\n\r\n                    validateTab(tabObj);\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(tabObj.state);\r\n                    });\r\n                    if (tab) {\r\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n                    }\r\n\r\n                    tabs.push({\r\n                        state: getFullStateName(tabObj.state),\r\n                        title: tabObj.title,\r\n                        access: tabObj.access || angular.noop,\r\n                        visible: tabObj.visible || true,\r\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n                    });\r\n\r\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n                    // if we just added first state and no default state is specified\r\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\r\n                        setDefaultTab(tabObj.state);\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * @ngdoc method\r\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\r\n                 * @methodOf pipHelp.Service.pipHelp\r\n                 *\r\n                 * @description\r\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\r\n                 * state\r\n                 *\r\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\r\n                 *\r\n                 * @param {Object} name     Name of the state\r\n                 *\r\n                 * @example\r\n                 * <pre>\r\n                 * pipHelpProvider.setDefaultTab('test');\r\n                 * </pre>\r\n                 */\r\n                function setDefaultTab(name) {\r\n                    var tab, error;\r\n\r\n                    tab = _.find(tabs, function (tab) {\r\n                        return tab.state === getFullStateName(name);\r\n                    });\r\n                    if (!tab) {\r\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\r\n                        throw error;\r\n                    }\r\n\r\n                    defaultTab = getFullStateName(name);\r\n\r\n                    $stateProvider.redirect('help', getFullStateName(name));\r\n                }\r\n\r\n                /**\r\n                 * This method validates passed state.\r\n                 * If it is incorrect it will throw an error.\r\n                 */\r\n                function validateTab(tabObj) {\r\n                    if (!tabObj || !_.isObject(tabObj)) {\r\n                        throw new Error('Invalid object');\r\n                    }\r\n\r\n                    if (!tabObj.state || tabObj.state === '') {\r\n                        throw new Error('Tab should have valid Angular UI router state name');\r\n                    }\r\n\r\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n                        throw new Error('\"access\" should be a function');\r\n                    }\r\n\r\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n                        throw new Error('Invalid state configuration object');\r\n                    }\r\n                }\r\n            });\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\"><div class=\"pip-menu-container pip-help\" ng-if=\"manager !== false\"><md-list class=\"pip-menu pip-simple-list hide-xs\" pip-selected=\"selected.tabIndex\" pip-selected-watch=\"selected.navId\" pip-select=\"onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable\" ng-repeat=\"tab in tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{::tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown class=\"hide-gt-xs\" pip-actions=\"tabs\" pip-dropdown-select=\"onDropdownSelect\" pip-active-index=\"selected.tabIndex\"></pip-dropdown><div class=\"pip-body layout-column flex\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-if=\"manager === false\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaGVscC50cyIsInNyYy9oZWxwX3BhZ2UvaGVscF9wYWdlLnRzIiwic3JjL2hlbHBfc2VydmljZS9oZWxwX3NlcnZpY2UudHMiLCJ0ZW1wL3BpcC13ZWJ1aS1oZWxwLWh0bWwubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDS0EsQ0FBQztJQUNHLFlBQVksQ0FBQztJQUViLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1FBQ3RCLGlCQUFpQjtRQUNqQixjQUFjO0tBQ2pCLENBQUMsQ0FBQztBQUVQLENBQUMsQ0FBQyxFQUFFLENBQUM7O0FDUkwsQ0FBQztJQUNHLFlBQVksQ0FBQztJQUViLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUMsV0FBVyxFQUFFLGlCQUFpQixFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsY0FBYztRQUN0RyxtQkFBbUIsQ0FBQyxDQUFDO1NBQ3BCLE1BQU0sQ0FBQyxNQUFNLENBQUM7U0FDZCxVQUFVLENBQUMsdUJBQXVCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUU3RCxnQkFBZ0IsY0FBYztRQUMxQixjQUFjLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUN6QixHQUFHLEVBQUUsT0FBTztZQUNaLElBQUksRUFBRSxLQUFLO1lBQ1gsVUFBVSxFQUFFLHVCQUF1QjtZQUNuQyxXQUFXLEVBQUUsMEJBQTBCO1NBQzFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFtQkQsNEJBQTRCLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPO1FBRXRFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsVUFBVSxHQUFRO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMs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S0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN2QyxNQUFNLElBQUksS0FBSyxDQUFDLG9EQUFvRCxDQUFDLENBQUM7WUFDMUUsQ0FBQztZQUVELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hELE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLENBQUMsQ0FBQztZQUNyRCxDQUFDO1lBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxNQUFNLElBQUksS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7WUFDMUQsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUVmLENBQUMsQ0FBQyxFQUFFLENBQUM7O0FDN05MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwi77u/LyoqXHJcbiAqIEBmaWxlIFJlZ2lzdHJhdGlvbiBvZiBhbGwgaGVscCBjb21wb25lbnRzXHJcbiAqIEBjb3B5cmlnaHQgRGlnaXRhbCBMaXZpbmcgU29mdHdhcmUgQ29ycC4gMjAxNC0yMDE2XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwSGVscCcsIFtcclxuICAgICAgICAncGlwSGVscC5TZXJ2aWNlJyxcclxuICAgICAgICAncGlwSGVscC5QYWdlJ1xyXG4gICAgXSk7XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQGZpbGUgUGFnZSB0ZW1wbGF0ZSBmb3IgaGVscCBjb21wb25lbnRzXHJcbiAqIEBjb3B5cmlnaHQgRGlnaXRhbCBMaXZpbmcgU29mdHdhcmUgQ29ycC4gMjAxNC0yMDE2XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5QYWdlJywgWyd1aS5yb3V0ZXInLCAncGlwSGVscC5TZXJ2aWNlJywgJ3BpcEFwcEJhcicsICdwaXBTZWxlY3RlZCcsICdwaXBUcmFuc2xhdGUnLFxyXG4gICAgICAgICdwaXBIZWxwLlRlbXBsYXRlcyddKVxyXG4gICAgICAgIC5jb25maWcoY29uZmlnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdwaXBIZWxwUGFnZUNvbnRyb2xsZXInLCBIZWxwUGFnZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdoZWxwJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvaGVscCcsXHJcbiAgICAgICAgICAgIGF1dGg6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGlwSGVscFBhZ2VDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdoZWxwX3BhZ2UvaGVscF9wYWdlLmh0bWwnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgY29udHJvbGxlclxyXG4gICAgICogQG5hbWUgcGlwSGVscC5QYWdlLnBpcEhlbHBQYWdlQ29udHJvbGxlclxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhlIGNvbnRyb2xsZXIgaXMgdXNlZCBmb3IgdGhlIHJvb3QgSGVscCBjb21wb25lbnQuXHJcbiAgICAgKiBJdCBtYW5hZ2VzIGF2YWlsYWJsZSB0YWJzIHByb3ZpZGUgbmF2aWdhdGlvbiB0aHJvdWdoIHRob3NlIG9uZXMuXHJcbiAgICAgKlxyXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXAtd2VidWkvcGlwLXdlYnVpLWhlbHAvYmxvYi9tYXN0ZXIvc3JjL2hlbHBfcGFnZS9oZWxwX3BhZ2UuanMjTDQwIFZpZXcgc291cmNlfVxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gJHJvb3RTY29wZSAgIFJvb3Qgc2NvcGUgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gJHNjb3BlICAgICAgIFNjb3BlIGZvciB0aGUgY3VycmVudCBjb250cm9sbGVyXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gJHN0YXRlICAgICAgIFVJIFJvdXRlciBzZXJ2aWNlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGlwQXBwQmFyICAgIFNlcnZpY2UgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIHRvIG1hbmFnZSBvbiBhcHBsaWNhdGlvbiBiYXIgaGVhZGVyLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBpcEhlbHAgICAgICBTZXJ2aWNlIHRvIG1hbmFnZSB0aGlzIGNvbXBvbmVudCBiZWhhdmlvdXJcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gSGVscFBhZ2VDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCBwaXBBcHBCYXIsIHBpcEhlbHApIHtcclxuXHJcbiAgICAgICAgJHNjb3BlLnRhYnMgPSBfLmZpbHRlcihwaXBIZWxwLmdldFRhYnMoKSwgZnVuY3Rpb24gKHRhYjogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICh0YWIudmlzaWJsZSAmJiAodGFiLmFjY2VzcyAhPT0gYW5ndWxhci5ub29wID8gdGFiLmFjY2Vzcygkcm9vdFNjb3BlLiR1c2VyLCB0YWIpIDogdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKCRzdGF0ZS5jdXJyZW50Lm5hbWUgIT09ICdoZWxwJykge1xyXG4gICAgICAgICAgICBpbml0U2VsZWN0KCRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluaXRTZWxlY3QocGlwSGVscC5nZXREZWZhdWx0VGFiKCkuc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXBwSGVhZGVyKCk7XHJcblxyXG4gICAgICAgICRzY29wZS5vbk5hdmlnYXRpb25TZWxlY3QgPSBvbk5hdmlnYXRpb25TZWxlY3Q7XHJcbiAgICAgICAgJHNjb3BlLm9uRHJvcGRvd25TZWxlY3QgPSBvbkRyb3Bkb3duU2VsZWN0O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgcGlwSGVscC5QYWdlLnBpcEhlbHBQYWdlQ29udHJvbGxlciNvbkRyb3Bkb3duU2VsZWN0XHJcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcEhlbHAuUGFnZS5waXBIZWxwUGFnZUNvbnRyb2xsZXJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIEl0IHJlZGlyZWN0cyB0byBhIHBhc3NlZCBzdGF0ZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGlwLXdlYnVpL3BpcC13ZWJ1aS1oZWxwL2Jsb2IvbWFzdGVyL3NyYy9oZWxwX3BhZ2UvaGVscF9wYWdlLmpzI0w3MiBWaWV3IHNvdXJjZX1cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAgICBTdGF0ZSBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uRHJvcGRvd25TZWxlY3Qoc3RhdGUpIHtcclxuICAgICAgICAgICAgb25OYXZpZ2F0aW9uU2VsZWN0KHN0YXRlLnN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbmZpZyBhcHBCYXIgZHVlIHRvIHRoaXMgcGFnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFwcEhlYWRlcigpIHtcclxuICAgICAgICAgICAgcGlwQXBwQmFyLnNob3dNZW51TmF2SWNvbigpO1xyXG4gICAgICAgICAgICBwaXBBcHBCYXIuc2hvd1RpdGxlVGV4dCgnSGVscCcpO1xyXG4gICAgICAgICAgICBwaXBBcHBCYXIuc2hvd1NoYWRvd1NtKCk7XHJcbiAgICAgICAgICAgIHBpcEFwcEJhci5zaG93TG9jYWxBY3Rpb25zKG51bGwsIFtdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSBwaXBIZWxwLlBhZ2UucGlwSGVscFBhZ2VDb250cm9sbGVyI29uTmF2aWdhdGlvblNlbGVjdFxyXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBIZWxwLlBhZ2UucGlwSGVscFBhZ2VDb250cm9sbGVyXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBJdCByZWRpcmVjdHMgdG8gYSBwYXNzZWQgc3RhdGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpcC13ZWJ1aS9waXAtd2VidWktaGVscC9ibG9iL21hc3Rlci9zcmMvaGVscF9wYWdlL2hlbHBfcGFnZS5qcyNMOTggVmlldyBzb3VyY2V9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGUgICAgTmFtZSBvZiB0aGUgdGFyZ2V0IHN0YXRlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uTmF2aWdhdGlvblNlbGVjdChzdGF0ZSkge1xyXG4gICAgICAgICAgICBpbml0U2VsZWN0KHN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2VsZWN0ZWQudGFiKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oc3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXQgc2VsZWN0ZWQgaXRlbSBmb3IgaGlnaGxpZ2h0aW5nIGluIHRoZSBuYXYgbWVudVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTZWxlY3Qoc3RhdGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkLnRhYiA9IF8uZmluZCgkc2NvcGUudGFicywgZnVuY3Rpb24gKHRhYjogYW55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSBzdGF0ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQudGFiSW5kZXggPSBfLmluZGV4T2YoJHNjb3BlLnRhYnMsICRzY29wZS5zZWxlY3RlZC50YWIpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQudGFiSWQgPSBzdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBAZmlsZSBTZXJ2aWNlIGZvciBoZWxwIGNvbXBvbmVudHNcclxuICogQGNvcHlyaWdodCBEaWdpdGFsIExpdmluZyBTb2Z0d2FyZSBDb3JwLiAyMDE0LTIwMTZcclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAqIEBuYW1lIHBpcEhlbHAuU2VydmljZS5waXBIZWxwXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGlzIHNlcnZpY2UgaXMgcHJvdmlkZWQgYW4gaW50ZXJmYWNlIHRvIG1hbmFnZSB0aGUgSGVscCBjb21wb25lbnQuXHJcbiAgICAgKiBJdCBpcyBhdmFpbGFibGUgb24gdGhlIGNvbmZpZyBhbmQgcnVuIGFwcGxpY2F0aW9uIHBoYXNlcy4gT24gdGhlIGJvdGggcGhhc2VzIHRoZSBpbnRlcmZhY2UgaXMgdGhlIHNhbWUuXHJcbiAgICAgKiBUaGlzIG1vZHVsZSByZXF1aXJlcyB0aGUgJyRzdGF0ZScgbW9kdWxlLlxyXG4gICAgICovXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5TZXJ2aWNlJywgWyd1aS5yb3V0ZXInXSlcclxuICAgICAgICAucHJvdmlkZXIoJ3BpcEhlbHAnLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpOiBhbnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRUYWIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBAc2VlIGFkZFRhYiAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWIgPSBhZGRUYWI7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEBzZWUgc2V0RGVmYXVsdFRhYiAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0VGFiID0gc2V0RGVmYXVsdFRhYjtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogQHNlZSBnZXRUYWJzICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRhYnMgPSBnZXRUYWJzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBAc2VlIGdldERlZmF1bHRUYWIgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGVmYXVsdFRhYiA9IGdldERlZmF1bHRUYWI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAc2VlIGdldFRhYnMgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VGFiczogZ2V0VGFicyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAc2VlIGdldERlZmF1bHRUYWIgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RGVmYXVsdFRhYjogZ2V0RGVmYXVsdFRhYixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAc2VlIGFkZFRhYiAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUYWI6IGFkZFRhYixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAc2VlIHNldERlZmF1bHRUYWIgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGVmYXVsdFRhYjogc2V0RGVmYXVsdFRhYlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogVGhpcyBtZXRob2QgYnVpbGQgdGhlIGZ1bGwgbmFtZSBvZiBzdGF0ZSB3aXRoaW4gdGhlIGFic3RyYWN0ICdoZWxwJyBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRGdWxsU3RhdGVOYW1lKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoZWxwLicgKyBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICAgICAqIEBuYW1lIHBpcEhlbHAuU2VydmljZS5waXBIZWxwI2dldFRhYnNcclxuICAgICAgICAgICAgICAgICAqIEBtZXRob2RPZiBwaXBIZWxwLlNlcnZpY2UucGlwSGVscFxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhc3NldCBvZiBhbGwgdGFicyByZWdpc3RlcmVkIGluIHRoZSBIZWxwIGNvbXBvbmVudC5cclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpcC13ZWJ1aS9waXAtd2VidWktaGVscC9ibG9iL21hc3Rlci9zcmMvaGVscF9zZXJ2aWNlL2hlbHBfc2VydmljZS5qcyNMNzkgVmlldyBzb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IExpc3Qgb2YgcmVnaXN0ZXJlZCBzdGF0ZXNcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAgICAgICAgICogPHByZT5cclxuICAgICAgICAgICAgICAgICAqIC8vIG9uIHRoZSBjb25maWcgcGhhc2VcclxuICAgICAgICAgICAgICAgICAqIHBpcEhlbHBQcm92aWRlci5nZXRUYWJzKCk7XHJcbiAgICAgICAgICAgICAgICAgKiA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VGFicygpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAodGFicyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBwaXBIZWxwLlNlcnZpY2UucGlwSGVscCNnZXREZWZhdWx0VGFiXHJcbiAgICAgICAgICAgICAgICAgKiBAbWV0aG9kT2YgcGlwSGVscC5TZXJ2aWNlLnBpcEhlbHBcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAqIFRoaXMgbWV0aG9kIHJldHVybiBuYW1lIG9mIHRoZSBkZWZhdWx0IHN0YXRlLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGlwLXdlYnVpL3BpcC13ZWJ1aS1oZWxwL2Jsb2IvbWFzdGVyL3NyYy9oZWxwX3NlcnZpY2UvaGVscF9zZXJ2aWNlLmpzI0wxMDEgVmlldyBzb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gTmFtZSBvZiB0aGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAgICAgICAgICogPHByZT5cclxuICAgICAgICAgICAgICAgICAqIC8vIG9uIHRoZSBjb25maWcgcGhhc2VcclxuICAgICAgICAgICAgICAgICAqIHBpcEhlbHBQcm92aWRlci5nZXREZWZhdWx0VGFiKCk7XHJcbiAgICAgICAgICAgICAgICAgKiA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdFRhYigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoXy5maW5kKHRhYnMsIGZ1bmN0aW9uICh0YWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gZGVmYXVsdFRhYjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBwaXBIZWxwLlNlcnZpY2UucGlwSGVscCNhZGRUYWJcclxuICAgICAgICAgICAgICAgICAqIEBtZXRob2RPZiBwaXBIZWxwLlNlcnZpY2UucGlwSGVscFxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICogVGhpcyBtZXRob2QgYWxsb3dzIGFkZCBuZXcgdGFiIGludG8gbmF2aWdhdGlvbiBtZW51LiBJdCBhY2NlcHRzIGNvbmZpZyBvYmplY3QgdG8gZGVmaW5lIG5ldyBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICogd2l0aCBuZWVkZWQgcGFyYW1zLlxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGlwLXdlYnVpL3BpcC13ZWJ1aS1oZWxwL2Jsb2IvbWFzdGVyL3NyYy9oZWxwX3NlcnZpY2UvaGVscF9zZXJ2aWNlLmpzI0wxMzkgVmlldyBzb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRhYk9iaiBDb25maWd1cmF0aW9uIG9iamVjdCBjb250YWlucyBzZXR0aW5ncyBmb3IgYW5vdGhlciB0YWJcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmc+fSB0YWJPYmouc3RhdGUgICBOYW1lIG9mIHRhYiBzdGF0ZSB3aGljaCBpcyBhdmFpbGFibGUgdmlhIFVJIHJvdXRlclxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZz59IHRhYk9iai50aXRsZSAgIFRhYiB0aXRsZSBpbiB0aGUgbmF2aWdhdGlvbiBtZW51LlxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3QuPGJvb2xlYW4+fSB0YWJPYmouYWNjZXNzIElmIGl0IGlzIHRydWUgaXQgd2lsbCBiZSBhdmFpbGFibGUgb25seSBmb3IgbG9nZ2VkIGluIHVzZXJzXHJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48Ym9vbGVhbj59IHRhYk9iai52aXNpYmxlIElmIGl0IGlzIHRydWUgdGhlIHRhYiB3aWxsIGJlIHZpc2libGVcclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxPYmplY3Q+fSB0YWJPYmouc3RhdGVDb25maWcgIENvbmZpZ3VyYXRpb24gb2JqZWN0IGluIGZvcm1hdCBsaWtlIFVJIFJvdXRlciBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICAgICAgICAgKiA8cHJlPlxyXG4gICAgICAgICAgICAgICAgICogIC8vIG9uIHRoZSBjb25maWcgcGhhc2VcclxuICAgICAgICAgICAgICAgICAqICBwaXBIZWxwUHJvdmlkZXIuYWRkVGFiKHtcclxuICAgICAgICAgICAgICAgICAqICAgICAgc3RhdGU6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgICAqICAgICAgdGl0bGU6ICdUZXN0IGhlbHAgdGFiJyxcclxuICAgICAgICAgICAgICAgICAqICAgICAgYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAqICAgICAgc3RhdGVDb25maWc6IHtcclxuICAgICAgICAgICAgICAgICAqICAgICAgICAgIHVybDogJy90ZXN0JyxcclxuICAgICAgICAgICAgICAgICAqICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaGVscC9oZWxwX3Rlc3QxLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgKiAgICAgIH1cclxuICAgICAgICAgICAgICAgICAqICB9KTtcclxuICAgICAgICAgICAgICAgICAqIDwvcHJlPlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRUYWIodGFiT2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVUYWIodGFiT2JqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiID0gXy5maW5kKHRhYnMsIGZ1bmN0aW9uICh0YWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gZ2V0RnVsbFN0YXRlTmFtZSh0YWJPYmouc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWIgd2l0aCBzdGF0ZSBuYW1lIFwiJyArIHRhYk9iai5zdGF0ZSArICdcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRhYnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBnZXRGdWxsU3RhdGVOYW1lKHRhYk9iai5zdGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0YWJPYmoudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VzczogdGFiT2JqLmFjY2VzcyB8fCBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRhYk9iai52aXNpYmxlIHx8IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ29uZmlnOiBfLmNsb25lRGVlcCh0YWJPYmouc3RhdGVDb25maWcpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKGdldEZ1bGxTdGF0ZU5hbWUodGFiT2JqLnN0YXRlKSwgdGFiT2JqLnN0YXRlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UganVzdCBhZGRlZCBmaXJzdCBzdGF0ZSBhbmQgbm8gZGVmYXVsdCBzdGF0ZSBpcyBzcGVjaWZpZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChkZWZhdWx0VGFiKSAmJiB0YWJzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXREZWZhdWx0VGFiKHRhYk9iai5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgICAgICogQG5hbWUgcGlwSGVscC5TZXJ2aWNlLnBpcEhlbHAjc2V0RGVmYXVsdFRhYlxyXG4gICAgICAgICAgICAgICAgICogQG1ldGhvZE9mIHBpcEhlbHAuU2VydmljZS5waXBIZWxwXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgKiBUaGlzIG1ldGhvZCBlc3RhYmxpc2hlcyBwYXNzZWQgc3RhdGUgYXMgZGVmYXVsdCB3aGljaCBpcyByZWRpcmVjdGVkIGF0IGFmdGVyIHRyYW5zZmVyIG9uIGFic3RyYWN0XHJcbiAgICAgICAgICAgICAgICAgKiBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGlwLXdlYnVpL3BpcC13ZWJ1aS1oZWxwL2Jsb2IvbWFzdGVyL3NyYy9oZWxwX3NlcnZpY2UvaGVscF9zZXJ2aWNlLmpzI0wxODUgVmlldyBzb3VyY2V9XHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG5hbWUgICAgIE5hbWUgb2YgdGhlIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgICAgICAgICAqIDxwcmU+XHJcbiAgICAgICAgICAgICAgICAgKiBwaXBIZWxwUHJvdmlkZXIuc2V0RGVmYXVsdFRhYigndGVzdCcpO1xyXG4gICAgICAgICAgICAgICAgICogPC9wcmU+XHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldERlZmF1bHRUYWIobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWIsIGVycm9yO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0YWIgPSBfLmZpbmQodGFicywgZnVuY3Rpb24gKHRhYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSBnZXRGdWxsU3RhdGVOYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdUYWIgd2l0aCBzdGF0ZSBuYW1lIFwiJyArIG5hbWUgKyAnXCIgaXMgbm90IHJlZ2lzdGVyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VGFiID0gZ2V0RnVsbFN0YXRlTmFtZShuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIucmVkaXJlY3QoJ2hlbHAnLCBnZXRGdWxsU3RhdGVOYW1lKG5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIFRoaXMgbWV0aG9kIHZhbGlkYXRlcyBwYXNzZWQgc3RhdGUuXHJcbiAgICAgICAgICAgICAgICAgKiBJZiBpdCBpcyBpbmNvcnJlY3QgaXQgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVUYWIodGFiT2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWJPYmogfHwgIV8uaXNPYmplY3QodGFiT2JqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhYk9iai5zdGF0ZSB8fCB0YWJPYmouc3RhdGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFiIHNob3VsZCBoYXZlIHZhbGlkIEFuZ3VsYXIgVUkgcm91dGVyIHN0YXRlIG5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJPYmouYWNjZXNzICYmICFfLmlzRnVuY3Rpb24odGFiT2JqLmFjY2VzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImFjY2Vzc1wiIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhYk9iai5zdGF0ZUNvbmZpZyB8fCAhXy5pc09iamVjdCh0YWJPYmouc3RhdGVDb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0ZSBjb25maWd1cmF0aW9uIG9iamVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwSGVscC5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEhlbHAuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdoZWxwX3BhZ2UvaGVscF9wYWdlLmh0bWwnLFxuICAgICc8bWQtdG9vbGJhciBjbGFzcz1cInBpcC1hcHBiYXItZXh0XCI+PC9tZC10b29sYmFyPjxwaXAtZG9jdW1lbnQgd2lkdGg9XCI4MDBcIiBtaW4taGVpZ2h0PVwiNDAwXCI+PGRpdiBjbGFzcz1cInBpcC1tZW51LWNvbnRhaW5lciBwaXAtaGVscFwiIG5nLWlmPVwibWFuYWdlciAhPT0gZmFsc2VcIj48bWQtbGlzdCBjbGFzcz1cInBpcC1tZW51IHBpcC1zaW1wbGUtbGlzdCBoaWRlLXhzXCIgcGlwLXNlbGVjdGVkPVwic2VsZWN0ZWQudGFiSW5kZXhcIiBwaXAtc2VsZWN0ZWQtd2F0Y2g9XCJzZWxlY3RlZC5uYXZJZFwiIHBpcC1zZWxlY3Q9XCJvbk5hdmlnYXRpb25TZWxlY3QoJGV2ZW50LmlkKVwiPjxtZC1saXN0LWl0ZW0gY2xhc3M9XCJwaXAtc2ltcGxlLWxpc3QtaXRlbSBwaXAtc2VsZWN0YWJsZVwiIG5nLXJlcGVhdD1cInRhYiBpbiB0YWJzIHRyYWNrIGJ5IHRhYi5zdGF0ZVwiIG1kLWluay1yaXBwbGU9XCJcIiBwaXAtaWQ9XCJ7ezo6dGFiLnN0YXRlIH19XCI+PHA+e3s6OnRhYi50aXRsZSB8IHRyYW5zbGF0ZX19PC9wPjwvbWQtbGlzdC1pdGVtPjwvbWQtbGlzdD48ZGl2IGNsYXNzPVwicGlwLWNvbnRlbnQtY29udGFpbmVyXCI+PHBpcC1kcm9wZG93biBjbGFzcz1cImhpZGUtZ3QteHNcIiBwaXAtYWN0aW9ucz1cInRhYnNcIiBwaXAtZHJvcGRvd24tc2VsZWN0PVwib25Ecm9wZG93blNlbGVjdFwiIHBpcC1hY3RpdmUtaW5kZXg9XCJzZWxlY3RlZC50YWJJbmRleFwiPjwvcGlwLWRyb3Bkb3duPjxkaXYgY2xhc3M9XCJwaXAtYm9keSBsYXlvdXQtY29sdW1uIGZsZXhcIiB1aS12aWV3PVwiXCI+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImxheW91dC1jb2x1bW4gbGF5b3V0LWFsaWduLWNlbnRlci1jZW50ZXIgZmxleFwiIG5nLWlmPVwibWFuYWdlciA9PT0gZmFsc2VcIj57ezo6XFwnRVJST1JfNDAwXFwnIHwgdHJhbnNsYXRlfX08L2Rpdj48L3BpcC1kb2N1bWVudD4nKTtcbn1dKTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcC13ZWJ1aS1oZWxwLWh0bWwubWluLmpzLm1hcFxuIl19"}