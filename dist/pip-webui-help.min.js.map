{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","help","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","config","$stateProvider","state","url","auth","controller","templateUrl","HelpPageController","$rootScope","$scope","$state","pipAppBar","pipHelp","onDropdownSelect","onNavigationSelect","appHeader","showMenuNavIcon","showTitleText","showShadowSm","showLocalActions","selected","tab","go","initSelect","_","find","tabs","tabIndex","indexOf","tabId","filter","getTabs","visible","access","noop","$user","current","name","getDefaultTab","$inject","3","provider","getFullStateName","cloneDeep","defaultTab","addTab","tabObj","push","title","stateConfig","isUndefined","setDefaultTab","error","redirect","validateTab","isObject","isFunction","4","run","$templateCache","put"],"mappings":"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","file":"pip-webui-help.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","ï»¿/**\n * @file Registration of all help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipHelp', [\n        'pipHelp.Service',\n        'pipHelp.Page'\n    ]);\n\n})();\n","/**\n * @file Page template for help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\n        'pipHelp.Templates'])\n        .config(config)\n        .controller('pipHelpPageController', HelpPageController);\n\n    function config($stateProvider) {\n        $stateProvider.state('help', {\n            url: '/help',\n            auth: false,\n            controller: 'pipHelpPageController',\n            templateUrl: 'help_page/help_page.html'\n        });\n    }\n\n    /**\n     * @ngdoc controller\n     * @name pipHelp.Page.pipHelpPageController\n     *\n     * @description\n     * The controller is used for the root Help component.\n     * It manages available tabs provide navigation through those ones.\n     *\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\n     *\n     *\n     * @param {Object} $rootScope   Root scope object\n     * @param {Object} $scope       Scope for the current controller\n     * @param {Object} $state       UI Router service\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\n     * @param {Object} pipHelp      Service to manage this component behaviour\n     */\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\n\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\n                return tab;\n            }\n        });\n        $scope.selected = {};\n\n        if ($state.current.name !== 'help') {\n            initSelect($state.current.name);\n        } else {\n            initSelect(pipHelp.getDefaultTab().state);\n        }\n\n        appHeader();\n\n        $scope.onNavigationSelect = onNavigationSelect;\n        $scope.onDropdownSelect = onDropdownSelect;\n\n        /**\n         * @ngdoc method\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\n         * @methodOf pipHelp.Page.pipHelpPageController\n         *\n         * @description\n         * It redirects to a passed state.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\n         *\n         * @param {Object} state    State configuration object\n         */\n        function onDropdownSelect(state) {\n            onNavigationSelect(state.state);\n        }\n\n        /**\n         * Config appBar due to this page\n         */\n        function appHeader() {\n            pipAppBar.showMenuNavIcon();\n            pipAppBar.showTitleText('Help');\n            pipAppBar.showShadowSm();\n            pipAppBar.showLocalActions(null, []);\n        }\n\n        /**\n         * @ngdoc method\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\n         * @methodOf pipHelp.Page.pipHelpPageController\n         *\n         * @description\n         * It redirects to a passed state.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\n         *\n         * @param {string} state    Name of the target state.\n         */\n        function onNavigationSelect(state) {\n            initSelect(state);\n\n            if ($scope.selected.tab) {\n                $state.go(state);\n            }\n        }\n\n        /**\n         * Set selected item for highlighting in the nav menu\n         */\n        function initSelect(state) {\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\n                return tab.state === state;\n            });\n\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\n            $scope.selected.tabId = state;\n        }\n    }\n})();\n","/**\n * @file Service for help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    /**\n     * @ngdoc service\n     * @name pipHelp.Service.pipHelp\n     *\n     * @description\n     * This service is provided an interface to manage the Help component.\n     * It is available on the config and run application phases. On the both phases the interface is the same.\n     * This module requires the '$state' module.\n     */\n    angular.module('pipHelp.Service', ['ui.router'])\n        .provider('pipHelp',\n            function ($stateProvider): any {\n                var defaultTab,\n                    tabs = [];\n\n                /** @see addTab */\n                this.addTab = addTab;\n\n                /** @see setDefaultTab */\n                this.setDefaultTab = setDefaultTab;\n\n                /** @see getTabs */\n                this.getTabs = getTabs;\n\n                /** @see getDefaultTab */\n                this.getDefaultTab = getDefaultTab;\n\n                this.$get = function () {\n                    return {\n                        /** @see getTabs */\n                        getTabs: getTabs,\n\n                        /** @see getDefaultTab */\n                        getDefaultTab: getDefaultTab,\n\n                        /** @see addTab */\n                        addTab: addTab,\n\n                        /** @see setDefaultTab */\n                        setDefaultTab: setDefaultTab\n                    };\n                };\n\n                /**\n                 * This method build the full name of state within the abstract 'help' state\n                 */\n                function getFullStateName(state) {\n                    return 'help.' + state;\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#getTabs\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method returns asset of all tabs registered in the Help component.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\n                 *\n                 * @returns {Array<Object>} List of registered states\n                 *\n                 * @example\n                 * <pre>\n                 * // on the config phase\n                 * pipHelpProvider.getTabs();\n                 * </pre>\n                 */\n                function getTabs() {\n                    return _.cloneDeep(tabs);\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method return name of the default state.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\n                 *\n                 * @returns {string} Name of the state\n                 *\n                 * @example\n                 * <pre>\n                 * // on the config phase\n                 * pipHelpProvider.getDefaultTab();\n                 * </pre>\n                 */\n                function getDefaultTab() {\n                    return _.cloneDeep(_.find(tabs, function (tab) {\n                        return tab.state === defaultTab;\n                    }));\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#addTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\n                 * with needed params.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\n                 *\n                 * @param {Object} tabObj Configuration object contains settings for another tab\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\n                 *\n                 * @example\n                 * <pre>\n                 *  // on the config phase\n                 *  pipHelpProvider.addTab({\n                 *      state: 'test',\n                 *      title: 'Test help tab',\n                 *      auth: true,\n                 *      stateConfig: {\n                 *          url: '/test',\n                 *          templateUrl: 'help/help_test1.html'\n                 *      }\n                 *  });\n                 * </pre>\n                 */\n                function addTab(tabObj) {\n                    var tab;\n\n                    validateTab(tabObj);\n\n                    tab = _.find(tabs, function (tab) {\n                        return tab.state === getFullStateName(tabObj.state);\n                    });\n                    if (tab) {\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n                    }\n\n                    tabs.push({\n                        state: getFullStateName(tabObj.state),\n                        title: tabObj.title,\n                        access: tabObj.access || angular.noop,\n                        visible: tabObj.visible || true,\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\n                    });\n\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\n\n                    // if we just added first state and no default state is specified\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\n                        setDefaultTab(tabObj.state);\n                    }\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\n                 * state\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\n                 *\n                 * @param {Object} name     Name of the state\n                 *\n                 * @example\n                 * <pre>\n                 * pipHelpProvider.setDefaultTab('test');\n                 * </pre>\n                 */\n                function setDefaultTab(name) {\n                    var tab, error;\n\n                    tab = _.find(tabs, function (tab) {\n                        return tab.state === getFullStateName(name);\n                    });\n                    if (!tab) {\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\n                        throw error;\n                    }\n\n                    defaultTab = getFullStateName(name);\n\n                    $stateProvider.redirect('help', getFullStateName(name));\n                }\n\n                /**\n                 * This method validates passed state.\n                 * If it is incorrect it will throw an error.\n                 */\n                function validateTab(tabObj) {\n                    if (!tabObj || !_.isObject(tabObj)) {\n                        throw new Error('Invalid object');\n                    }\n\n                    if (!tabObj.state || tabObj.state === '') {\n                        throw new Error('Tab should have valid Angular UI router state name');\n                    }\n\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\n                        throw new Error('\"access\" should be a function');\n                    }\n\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n                        throw new Error('Invalid state configuration object');\n                    }\n                }\n            });\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\"><div class=\"pip-menu-container pip-help\" ng-if=\"manager !== false\"><md-list class=\"pip-menu pip-simple-list hide-xs\" pip-selected=\"selected.tabIndex\" pip-selected-watch=\"selected.navId\" pip-select=\"onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable\" ng-repeat=\"tab in tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{::tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown class=\"hide-gt-xs\" pip-actions=\"tabs\" pip-dropdown-select=\"onDropdownSelect\" pip-active-index=\"selected.tabIndex\"></pip-dropdown><div class=\"pip-body layout-column flex\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-if=\"manager === false\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}